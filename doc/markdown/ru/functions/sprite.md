# Sprite

Спрайт (Sprite) - двумерное изображение. В Xtreme3D поддерживаются экранные спрайты (отрисовываются на экране поверх проекции) и пространственные (присутствуют в трехмерной сцене в качестве плоскостей - их еще называют биллбордами). Главное отличие пространственного спрайта от простой плоскости заключается в том, что спрайт всегда повернут в сторону камеры. Это позволяет использовать пространственные спрайты в качестве различных псевдотрехмерных эффектов, такие как взрывы, вспышки, сияния. На их основе можно создать собственную систему частиц.

Экранные спрайты применяются для отображения элементов интерфейса - прицел, иконки, шкала энергии и т.д.

Все спрайты создаются из материалов. При этом поддерживаются их настройки - режимы смешивания, альфа-канал и др.

---

## HUDSpriteCreate

`real HUDSpriteCreate(string material, real width, real height, real parent);`

Создает новый экранный спрайт и возвращает указатель на него.
material - имя материала

- `width`, `height` - ширина и высота спрайта в пикселях
- `parent` - указатель на родителя для спрайта (0 - отсутствие родителя).

---

## HUDSpriteCreateEx

`real HUDSpriteCreateEx(real width, real height, real left, real top, real right, real bottom, real parent);`

Создает новый экранный спрайт из фрагмента текстуры материала и возвращает ссылку на него. Функция полезна при создании множества спрайтов сравнительного маленького размера, расположенных на одной большой текстуре - это значительно эффективнее, чем загружать несколько отдельных текстур для каждого спрайта.

Материал в этой функции не задается из-за ограничения GML (не больше 4 аргументов в DLL-функции при использовании строкового аргумента). Вы можете назначить спрайту материал при помощи функции `ObjectSetMaterial`. 

- `width`, `height` - ширина и высота спрайта в пикселях
- `left`, `top` - UV-координаты левого верхнего угла фрагмента (относительно левого верхнего угла текстуры)
- `right`, `bottom` - UV-координаты правого нижнего угла фрагмента (относительно левого верхнего угла текстуры)
- `parent` - указатель на родителя для спрайта (0 - отсутствие родителя).

---

## HUDSpriteGetMouseOver

`real HUDSpriteGetMouseOver(real sprite, real viewer);`

Возвращает 1, если курсор мыши находится над спрайтом в заданном виде, и 0 в противном случае. Функция полезна для реализации элементов интерфейса, таких, как кнопки.

- `sprite` - указатель на спрайт
- `viewer` - указатель на вид.

---

## HUDSpriteXTiles

`real HUDSpriteXTiles(real sprite, real xtiles);`

Задает тайлинг (количество повторений) текстуры спрайта по оси X.

- `sprite` - указатель на спрайт
- `xtiles` - тайлинг по оси X.

---

## HUDSpriteYTiles

`real HUDSpriteYTiles(real sprite, real ytiles);

Задает тайлинг (количество повторений) текстуры спрайта по оси Y.

- `sprite` - указатель на спрайт
- `ytiles` - тайлинг по оси Y.

---

## SpriteCreate

`real SpriteCreate(string material, real width, real height, real parent);`

Создает новый пространственный спрайт и возвращает его id.

- `material` - имя материала
- `width`, `height` - ширина и высота спрайта в единицах координатной системы
- `parent` - указатель на родителя для спрайта (0 - отсутствие родителя).

---

## SpriteCreateEx

`real SpriteCreateEx(real width, real height, real left, real top, real right, real bottom, real parent);`

Создает новый пространственный спрайт из фрагмента текстуры материала и возвращает ссылку на него. Функция полезна при создании множества спрайтов сравнительного маленького размера, расположенных на одной большой текстуре - это значительно эффективнее, чем загружать несколько отдельных текстур для каждого спрайта.

Материал в этой функции не задается из-за ограничения GML (не больше 4 аргументов в DLL-функции при использовании строкового аргумента). Вы можете назначить спрайту материал при помощи функции `ObjectSetMaterial`.

- `width`, `height` - ширина и высота спрайта в единицах координатной системы
- `left`, `top` - UV-координаты левого верхнего угла фрагмента (относительно левого верхнего угла текстуры)
- `right`, `bottom` - UV-координаты правого нижнего угла фрагмента (относительно левого верхнего угла текстуры)
- `parent` - указатель на родителя для спрайта (0 - отсутствие родителя).

---

## SpriteSetSize

`real SpriteSetSize(real sprite, real width, real height);`

Задает размер спрайта.

- `sprite` - указатель на спрайт
- `width`, `height` - ширина и высота спрайта.

---

## SpriteGetSize

`real SpriteGetSize(real sprite, real ind);`

Возвращает размер спрайта - ширину или высоту, в зависимости от заданного индекса размерности.

- `sprite` - указатель на спрайт
- `ind` - индекс размерности (0 = ширина, 1 = высота).

---

## SpriteScale

`real SpriteScale(real sprite, real hscale, real vscale);`

Изменяет размер спрайта относительно текущего размера.

- `sprite` - указатель на спрайт
- `hscale`, `vscale` - добавляются к текущим значениям ширины и высоты.

---

## SpriteSetRotation

`real SpriteSetRotation(real sprite, real angle);`

Задает угол поворота спрайта. Обратите внимание, что этот угол относится только к изображению и никак не влияет на обычный поворот объекта по осям XYZ.

- `sprite` - указатель на спрайт
- `angle` - угол поворота.

---

## SpriteRotate

`real SpriteRotate(real sprite, real angle);`

Изменяет поворот спрайта относительно текущего угла. Обратите внимание, что этот угол относится только к изображению и никак не влияет на обычный поворот объекта по осям XYZ.

- `sprite` - указатель на спрайт
- `angle` - добавляется к текущему углу поворота.

---

## SpriteMirror

`real SpriteMirror(real sprite, real u, real v);`

Отображает спрайт зеркально по горизонтали и/или вертикали. Работает только для пространственных спрайтов.

- `sprite` - указатель на спрайт
- `u` - горизонталь, `true` или `false` (1 и 0 соответственно)
- `v` - вертикаль, `true` или `false` (1 и 0 соответственно).

---

## SpriteSetBounds

`real SpriteSetBounds(real sprite, real left, real top, real right, real bottom);`

Задает фрагмент текстуры для спрайта в пикселях. Функция позволяет анимировать спрайт, последовательно сдвигая фрагмент вдоль набора кадров. Также можно использовать ее, например, для реализации мини-карты.

- `sprite` - указатель на спрайт
- `left`, `top` - координаты левого верхнего угла фрагмента (в пикселях, относительно левого верхнего угла текстуры)
- `right`, `bottom` - координаты координаты правого нижнего угла фрагмента (в пикселях, относительно левого верхнего угла текстуры).

---

## SpriteSetBoundsUV

`real SpriteSetBounds(real sprite, real left, real top, real right, real bottom);`

Задает фрагмент текстуры для спрайта в UV-координатах. Координаты (0, 0) соответствуют левому верхнему углу текстуры, (1, 1) - правому нижнему.

- `sprite` - указатель на спрайт
- `left`, `top` - UV-координаты левого верхнего угла фрагмента
- `right`, `bottom` - UV-координаты координаты правого нижнего угла фрагмента.

---

## SpriteSetOrigin

`real SpriteSetOrigin(real sprite, real x, real y);`

Задает исходную точку спрайта - то есть, точку, вокруг которой осуществляется вращение спрайта. По умолчанию вращение осуществляется вокруг центра спрайта.

- `sprite` - указатель на спрайт
- `x`, `y` - координаты исходной точки в пикселях относительно центра спрайта (координаты (0, 0) соответствуют центру).

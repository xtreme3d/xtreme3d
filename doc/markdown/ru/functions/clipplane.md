# ClipPlane

Объект ClipPlane (плоскость отсечения) позволяет отрендерить объекты только с одной стороны заданной плоскости. Это бывает полезным при реализации некоторых спецэффектов - например, отражений на воде в экранном пространстве. Просто поместите любые объекты в потомки к объекту ClipPlane, и они будут отсекаться, если ClipPlane активирован. Сам по себе ClipPlane - невидимый объект и не рендерит ничего.

Всего одновременно можно использовать до 6 плоскостей отсечения.

Обратите внимание, что при использовании GLSL для корректного отсечения объектов нужно выполнять в вершинном шейдере следующую операцию:

```glsl
gl_ClipVertex = gl_ModelViewMatrix * gl_Vertex;
```

Также ClipPlane в большинстве случаев не будет корректно работать с объектом [Mirror](mirror.html), поскольку Mirror задает собственную плоскость отсечения.

---

## ClipPlaneCreate

`real ClipPlaneCreate(real parent);`

Создает новую плоскость отсечения и возвращает указатель на нее.

- `parent` - указатель на родителя.

---

## ClipPlaneEnable

`real ClipPlaneEnable(real cp, real mode);`

Активирует или деактивирует плоскость отсечения. Если плоскость деактивирована, отсечение не производится.

- `cp` - указатель на плоскость отсечения
- `mode` - `true` или `false` (1 и 0 соответственно).

---

## ClipPlaneSetPlane

`real ClipPlaneSetPlane(real cp, real px, real py, real pz, real nx, real ny, real nz);`

Задает параметры плоскости отсечения.

- `cp` - указатель на плоскость отсечения
- `px`, `py`, `pz` - координаты центра плоскости
- `nx`, `ny`, `nz` - нормаль плоскости. Отсечению подлежит вся графика, лежащая по обратную сторону плоскости относительно нормали.

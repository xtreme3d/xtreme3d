# Lensflare

Lensflare - это эффект, который часто можно наблюдать в объективе камеры при съемке ярких источников света. Блик света многократно повторяется внутри системы линз в виде радужных кругов и колец, иногда шестиугольников. В компьютерных играх это нередко используется для передачи ощущения пространства и атмосферы. Наиболее часто lensflare можно видеть в играх с открытым пространством: это авиасимуляторы, гонки, некоторые FPS и т.д.

В Xtreme3D есть отличный встроенный lensflare, который вы можете настроить по собственному вкусу и получить максимально реалистичный эффект. Он состоит из главной вспышки, похожей на звезду, и нескольких кругов. Главная вспышка соответствует источнику света и включает несколько элементов, которые можно задейстовать в любой комбинации: большие лучи, малые лучи, кольцо (его еще называют гало), мягкое сияние.

Создав объект lensflare, вы должны расположить его в том же месте, где находится источник света.

---

## LensflareCreate

`real LensflareCreate(real parent);`

Создает новый объект lensflare и возвращает его id.

- `parent` - указатель на родителя.

---

## LensflareSetSize

`real LensflareSetSize(real lf, real size);`

Задает максимально возможный радиус для кругов.

- `lf` - указатель на объект lensflare
- `size` - размер.

---

## LensflareSetSeed

`real LensflareSetSeed(real lf, real seed);`

Задает произвольное число, которое определит расположение кругов относительно друг друга, а также их размеры.

- `lf` - указатель на объект lensflare
- `seed` - произвольное число.

---

## LensflareSetSqueeze

`real LensflareSetSqueeze(real lf, real squeeze);`

Задает растяжку главной вспышки по вертикали (1 соответствует нормальному состоянию).

- `lf` - указатель на объект lensflare
- `squeeze` - растяжка.

---

## LensflareSetStreaks

`real LensflareSetStreaks(real lf, real streaks);`

Задает количество больших лучей.

- `lf` - указатель на объект lensflare
- `streaks` - количество больших лучей.

---

## LensflareSetStreakwidth

`real LensflareSetStreakwidth(real lf, real width);`

Задает ширину больших лучей.

- `lf` - указатель на объект lensflare
- `width` - ширина.

---

## LensflareSetSecs

`real LensflareSetSecs(real lf, real secs);

Задает количество кругов.

- `lf` - указатель на объект lensflare
- `secs` - количество кругов.

---

## LensflareSetResolution

`real LensflareSetResolution(real lf, real res);`

Задает разрешение - количество сегментов, из которых состоят элементы lensflare. Чем выше это значение, тем "круглее" будут все круги и кольца. А уменьшив разрешение, можно вместо кругов получить вышеупомянутые шестиугольники.

- `lf` - указатель на объект lensflare
- `res` - разрешение.

---

## LensflareSetElements

`real LensflareSetElements(real lf, real glow, real ring, real streaks, real rays, real secs);`

Задает комбинацию элементов lensflare. Отключив некоторые элементы, вы можете, например, сделать просто красивую звезду в небе, свет от автомобильных фар и т.д.

- `lf` - указатель на объект lensflare
- `glow` - включает или выключает сияние: true или false (1 и 0 соответственно)
- `ring` - включает или выключает кольцо: true или false (1 и 0 соответственно)
- `streaks` - включает или выключает большие лучи: true или false (1 и 0 соответственно)
- `rays` - включает или выключает малые лучи: true или false (1 и 0 соответственно)
- `secs` - включает или выключает круги: true или false (1 и 0 соответственно).

---

## LensflareSetGradients

`real LensflareSetGradients(real lf, real ind, real color1, real alpha1, real color2, real alpha2);`

Задает цвет и прозрачность элементов. Вы должны указать цвет и прозрачность центра и краев для радиального градиента, которым заполняется элемент.

- `lf` - указатель на объект lensflare
- `ind` - индекс элемента, у которого следует менять цвет:
    - 1 = сияние
    - 2 = кольцо
    - 3 = большие лучи
    - 4 = малые лучи
    - 5 = круги
- `color1`, `alpha1` - цвет и прозрачность центра
- `color2`, `alpha2` - цвет и прозрачность краев.

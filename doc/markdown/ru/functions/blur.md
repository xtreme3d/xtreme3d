# Blur

Размытие (Blur) - всем знакомый эффект. В данном случае речь идет о motion blur - размытии при движении, которое визуально возникает при быстром повороте или перемещении точки обзора. Введение такого эффекта может придать реалистичности в некоторых игровых ситуациях. Motion blur часто используется, например, в гонках.

Принцип действия эффекта blur заключается в хранении и отрисовке нескольких предыдущих кадров с постепенным масштабированием и уменьшением прозрачности (а также, в некоторых случаях, и цвета). Разумеется, это не может не сказаться на производительности. Поэтому blur не стоит использовать слишком часто.

---

## BlurCreate

`real BlurCreate(real target, real parent);`

Создает новый объект blur и возвращает указатель на него.

- `target` - указатель на объект, который должен быть размыт. Размыты будут и все потомки этого объекта
- `parent` - указатель на родителя.

---

## BlurSetPreset

`real BlurSetPreset(real blur, real p);`

Задает стиль размытия (p). Вы можете выбрать, какой из них больше подходит для конкретной ситуации.

- `blur` - указатель на объект blur
- `p` - стиль размытия. Доступны следующие значения `p`:
    - `pNone` = 0 - отсутствие размытия
    - `pGlossy` = 1 - "блеск" - умеренное размытие и яркость, без тонировки
    - `pBeastView` = 2 - "глазами зверя" - кроваво-красная тонировка, слабое размытие
    - `pOceanDepth` = 3 - "в океанской глубине" - густая синяя тонировка, сильное размытие
    - `pDream` = 4 - "сон" - сильное замедленное размытие, слабая яркость, без тонировки
    - `pOverBlur` = 5 - "сверхразмытие" - сильное размытие, сильная яркость, без тонировки.

---

## BlurSetOptions

`real BlurSetOptions(real blur, real delta, real left, real top, real right, real bottom);`

Задает опции отрисовки размытия. Delta - задержка, время до наложения очередного кадра размытия. Чем ниже это значение, тем качественнее эффект, но ниже производительность. Left, top, right, bottom - смещение границ кадров влево, вверх, вправо, вниз. Изменяя смещение, можно добиться горизонтального, вертикального или диагонального размытия.

Для задержки и смещения обычно задаются очень маленькие значения - в пределах 0.001 - 0.015. Смещение допускает отрицательные значения.

- `blur` - указатель на объект blur
- `delta` - задержка в секундах
- `left`, `top`, `right`, `bottom` - смещение влево, вверх, вправо, вниз.

---

## BlurSetResolution

`real BlurSetResolution(real blur, real res);`

Задает разрешение кадра размытия. Значение должно соответствовать степени двойки (512, 256, 128 и т.д.).

- `blur` - указатель на объект blur
- `res` - разрешение.

---

## BlurSetColor

`real BlurSetColor(real blur, real color);`

Задает цвет размытия.

- `blur` - указатель на объект blur
- `color` - цвет.

---

## BlurSetBlendingMode

`real BlurSetBlendingMode(real blur, realbm);`

Задает режим смешивания размытия (bm).

- `blur` - указатель на объект blur
- `bm` - режим смешивания. Доступны следующие значения `bm`:
    - `bmOpaque` = 0 - отсутствие прозрачности и смешивания (полное замещение)
    - `bmTransparency` = 1 - используется прозрачность (альфа-смешивание)
    - `bmAdditive` = 2 - используется суммирование цветов
    - `bmAlphaTest50` = 3 - используется альфа-тест на 50% (прозрачность ниже 0.5 трактуется как полная прозрачность, выше - полная непрозрачность)
    - `bmAlphaTest100` = 4 - используется альфа-тест на 100% (прозрачность ниже 1.0 трактуется как полная прозрачность, выше - полная непрозрачность)
    - `bmModulate` = 5 - используется модуляция (умножение) цветов.

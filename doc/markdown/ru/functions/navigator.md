# Navigator

Навигатор (navigator) - это специальный объект, который облегчает управление другими объектами. Объект, прикрепленный к навигатору, подчиняется функциям трансформации, вызываемым для навигатора. Например, можно перемещать навигатор в разные стороны, поворачивать и т.д. Вы спросите, для чего это нужно, когда аналогичные функции есть и для объектов? Дело в том, что управление объектами через стандартные функции трансформации в некоторых ситуациях сопряжено с определенными трудностями. Представьте, что вы хотите дать игроку возможность управлять в игре различными объектами. Например, садиться в разные автомобили, как в GTA. В этом случае было бы гораздо удобнее осуществлять управление навигатором и просто сменять прикрепленный объект в случае смены автомобиля.

Навигатор изначально ориентирован на реализацию игрового управления. Поэтому в нем даже нет осей XYZ как таковых. Есть два режима поворота: горизонтальный и вертикальный. В первом случае объект поворачивается вправо/влево, во втором - вверх/вниз. Первый поворот задает направление горизонтального движения (по плоскости), второй - полета.

Кроме того, навигатор располагает такими полезными средствами, как виртуальный вектор Up и угловой ограничитель.

Виртуальный вектор Up (Virtual Up) во многом аналогичен обычному вектору Up, единственное отличие - вы можете в любой момент изменить его направление, трансформировав таким образом и координатную систему, в которой перемещается прикрепленный к навигатору объект. Преимущество виртуального Up заключается в том, что он меняется на уровне навигатора, а не объекта. Поэтому эту возможность следует рассматривать как трансформатор пространства, в котором существует объект. Использование виртуального вектора Up делает возможным, например, перемещение объекта по поверхности сферы. При этом локальная трансформация объекта остается нетронутой и он может в любой момент повернуться в любую сторону, не изменяя вектор Up.

---

## NavigatorCreate

`real NavigatorCreate();`

Создает навигатор и возвращает указатель на него.

---

## NavigatorSetObject

`real NavigatorSetObject(real nav, real object);`

Прикрепляет к навигатору объект.

- `nav` - указатель на навигатор
- `object` - указатель на объект.

---

## NavigatorSetUseVirtualUp

`real NavigatorSetUseVirtualUp(real nav, real mode);`

Указывает необходимость использования виртуального вектора Up.

- `nav` - указатель на навигатор
- `mode` - `true` или `false`.

---

## NavigatorSetVirtualUp

`real NavigatorSetVirtualUp(real nav, real x, real y, real z);`

Задает виртуальный вектор Up.

- `nav` - указатель на навигатор
- `x`, `y`, `z` - вектор.

---

## NavigatorTurnHorizontal

`real NavigatorTurnHorizontal(real nav, real angle);`

Поворачивает навигатор по горизонтали.

- `nav` - указатель на навигатор
- `angle` - угол.

---

## NavigatorTurnVertical

`real NavigatorTurnVertical(real nav, real angle);`

Поворачивает навигатор по вертикали.

- `nav` - указатель на навигатор
- `angle` - угол.

---

## NavigatorMoveForward

`real NavigatorMoveForward(real nav, real speed);`

Двигает навигатор вперед/назад в горизонтальной плоскости.

- `nav` - указатель на навигатор
- `speed` - скорость.

---

## NavigatorStrafeHorizontal

`real NavigatorStrafeHorizontal(real nav, real speed);`

Двигает навигатор влево/вправо в горизонтальной плоскости.

- `nav` - указатель на навигатор
- `speed` - скорость.

---

## NavigatorStrafeVertical

`real NavigatorStrafeVertical(real nav, real speed);`

Двигает навигатор вверх/вниз.

- `nav` - указатель на навигатор
- `speed` - скорость.

---

## NavigatorStraighten

`real NavigatorStraighten(real nav);`

Сбрасывает поворот навигатора в первоначальное состояние.

- `nav` - указатель на навигатор.

---

## NavigatorFlyForward

`real NavigatorFlyForward(real nav, real speed);`

Двигает навигатор вперед/назад.

- `nav` - указатель на навигатор
- `speed` - скорость.

---

## NavigatorMoveUpWhenMovingForward

`real NavigatorMoveUpWhenMovingForward(real nav, real mode);`

Определяет, должен ли навигатор "лететь" или "идти" - иными словами, переключает два распространенные стиля управления: как в авиасимуляторах (опция включена) и как в шутерах от первого лица (опция выключена).

- `nav` - указатель на навигатор
- `mode` - `true` или `false`.

---

## NavigatorInvertHorizontalWhenUpsideDown

`real NavigatorInvertHorizontalWhenUpsideDown(real nav, real mode);`

Если навигатор перевернется более чем на 90 градусов по вертикали, горизонтальное управление будет инвертированным - то есть, поворот влево будет вызывать поворот вправо, и наоборот. Данная опция решает эту проблему, инвертируя горизонтальный поворот.

- `nav` - указатель на навигатор
- `mode` - `true` или `false`.

---

## NavigatorSetAngleLock

`real NavigatorSetAngleLock(real nav, real mode);`

Указывает необходимость использования углового ограничителя для вертикального поворота.

- `nav` - указатель на навигатор
- `mode` - `true` или `false`.

---

## NavigatorSetAngles

`real NavigatorSetAngles(real nav, real min, real max);`

Задает угловые пороги ограничителя - минимальный и максимальный.

- `nav` - указатель на навигатор
- `min`, `max` - минимальный и максимальный пороги ограничителя.

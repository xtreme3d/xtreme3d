# ThorFX

ThorFX - это узкоспециализированная система частиц, ориентированная на работу со сплошной линией. При помощи ThorFX можно создать невероятно реалистичные молнии, электрические разряды, лучи лазера, потоки плазмы и прочие эффекты, в которых используется прямая или ломаная линия.

Система ThorFX состоит из двух компонентов: стержень, или ядро (core), и свечение (glow). Стержень - сплошная линия, закрашенная одним цветом, а свечение представляет собой совокупность отдельных частиц (спрайтов), равномерно распределенных по всей длине стержня. При достаточном количестве частиц они визуально сольются в сплошной объем, и будет казаться, что стержень светится, как неоновая трубка. Для воссоздания эффекта электрического разряда (его еще называют эффектом Тесла) включается вибрация и смещение - и перед нами уже не неоновая трубка, а настоящая молния!

Положение системы в пространстве задается ее собственными координатами, а также координатами целевой точки, в которую должна "бить" молния. 

В некоторых случаях необходимо создать сразу несколько одинаковых эффектов. Не очень-то удобно повторять все настройки для каждого из них. Специально для такой ситуации предусмотрен менеджер ThorFX. Менеджер - это что-то вроде сервера, на котором выполняются все вычисления, связанные с эффектом. А отдельные системы ThorFX - это клиенты, использующие настройки указанного для них менеджера. Вы просто создаете менеджер, настраиваете его как вам угодно, а затем добавляете любое количество систем в любых нужных вам местах сцены. Изменения, внесенные в настройки менеджера, автоматически коснутся всех подчиненных ему систем. 

---

## ThorFXManagerCreate

`real ThorFXManagerCreate();`

Создает новый менеджер ThorFX и возвращает указатель на него.

---

## ThorFXCreate

`real ThorFXCreate(real manager, real object);`

Создает новую систему ThorFX и прикрепляет ее к заданному объекту.

- `manager` - указатель на менеджер ThorFX
- `target` - указатель на объект.

---

## ThorFXSetColor

`real ThorFXSetColor(real manager, real inColor, real inAlpha, real outColor, real outAlpha, real coreColor, real coreAlpha);`

Задает цвет системы.

- `manager` - указатель на менеджер ThorFX
- `inColor`, `inAlpha` - цвет и прозрачность центра свечения
- `outColor`, `outAlpha` - цвет и прозрачность периферии свечения
- `coreColor`, `coreAlpha` - цвет и прозрачность стержня.

---

## ThorFXEnableCore

`real ThorFXEnableCore(real manager, real mode);`

Включает или выключает стержень.

- `manager` - указатель на менеджер ThorFX
- `mode` - `true` или `false` (1 и 0 соответственно).

---

## ThorFXEnableGlow

`real ThorFXEnableGlow(real manager, real mode);`

Включает или выключает свечение.

- `manager` - указатель на менеджер ThorFX
- `mode` - `true` или `false` (1 и 0 соответственно).

---

## ThorFXSetMaxParticles

`real ThorFXSetMaxParticles(real manager, real particles);`

Задает количество частиц в свечении. Чем выше это число, тем реалистичнее выглядит свечение.

- `manager` - указатель на менеджер ThorFX
- `particles` - количество частиц (от 0 до 255).

---

## ThorFXSetGlowSize

`real ThorFXSetGlowSize(real manager, real size);`

Задает размер свечения.

- `manager` - указатель на менеджер ThorFX
- `size` - размер.

---

## ThorFXSetVibrate

`real ThorFXSetVibrate(real manager, real vibrate);`

Задает уровень вибрации стержня (амплитуду колебаний). Ноль означает отсутствие вибрации.

- `manager` - указатель на менеджер ThorFX
- `vibrate` - уровень вибрации.

---

## ThorFXSetWildness

`real ThorFXSetWildness(real manager, real wildness);`

Задает силу смещения стержня относительно осевой линии: электрический разряд дергается, усиливая впечатление от эффекта. Ноль означает отсутствие смещения.

- `manager` - указатель на менеджер ThorFX
- `wildness` - сила смещения.

---

## ThorFXSetTarget

`real ThorFXSetTarget(real manager, real x, real y, real z);`

Задает целевую точку системы (то есть, точку, в которую бьет молния). Координаты этой точки всегда задаются локально, то есть относительно собственных координатных осей системы. Если бы координаты задавались абсолютно, все созданные системы одного менеджера были направлены в одну и ту же точку, что обычно совсем не желательно.

- `manager` - указатель на менеджер ThorFX
- `x`, `y`, `z` - координаты точки.

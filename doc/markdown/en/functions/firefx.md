# FireFX

FireFX - система частиц, моделирующая огонь. Хотя с помощью FireFX можно воссоздавать и другие эффекты: дым, искры, взрывы, дождь, фейерверк, бенгальские огни и т.д.

Система FireFX состоит из конечного числа частиц - небольших объектов-спрайтов, изображающих крохотные цветные точки. Частицы обычно движутся в одном направлении, соответствующем вектору Direction объекта системы (правда, можно "взорвать" систему - тогда частицы разлетятся во все стороны).

В некоторых случаях необходимо создать сразу несколько одинаковых эффектов. Не очень-то удобно повторять все настройки для каждого из них. Специально для такой ситуации предусмотрен менеджер FireFX. Менеджер - это что-то вроде сервера, на котором выполняются все вычисления, связанные с эффектом. А отдельные системы FireFX - это клиенты, использующие настройки указанного для них менеджера. Вы просто создаете менеджер, настраиваете его как вам угодно, а затем добавляете любое количество систем в любых нужных вам местах сцены. Изменения, внесенные в настройки менеджера, автоматически коснутся всех подчиненных ему систем.

---

## FireFXManagerCreate

`real FireFXManagerCreate();`

Создает новый менеджер FireFX и возвращает указатель на него.

---

## FireFXCreate

`real FireFXCreate(real manager, real object);`

Создает новую систему FireFX и прикрепляет ее к заданному объекту.

- `manager` - указатель на менеджер FireFX
- `object` - указатель на объект.

---

## FireFXSetColor

`real FireFXSetColor(real manager, real incolor, real inalpha, real outcolor, real outalpha);`

Задает цвет частиц.

- `manager` - указатель на менеджер FireFX
- `incolor`, `inalpha` - цвет и прозрачность центра частицы
- `outcolor`, `outalpha` - цвет и прозрачность периферии частицы.

---

## FireFXSetMaxParticles

`real FireFXSetMaxParticles(real manager, real particles);`

Задает максимальное количество частиц, отображаемых одновременно.

- `manager` - указатель на менеджер FireFX
- `particles` - количество частиц (от 0 до 255).

---

## FireFXSetParticleSize

`real FireFXSetParticleSize(real manager, real size);`

Задает размер частиц.

- `manager` - указатель на менеджер FireFX
- `size` - размер.

---

## FireFXSetDensity

`real FireFXSetDensity(real manager, real density);`

Задает плотность - количество частиц, появляющихся одновременно.

- `manager` - указатель на менеджер FireFX
- `density` - плотность.

---

## FireFXSetEvaporation

`real FireFXSetEvaporation(real manager, real evaporation);`

Задает растяжку частиц по вертикали (чем выше, тем длиннее будут частицы).

- `manager` - указатель на менеджер FireFX
- `evaporation` - растяжка.

---

## FireFXSetCrown

`real FireFXSetCrown(real manager, real crown);`

Задает размер так называемой короны - окружности, по периметру которой появляются частицы. Если размер короны равен нулю, частицы появляются из одной точки.

- `manager` - указатель на менеджер FireFX
- `crown` - размер короны.

---

## FireFXSetLife

`real FireFXSetLife(real manager, real life);`

Задает время жизни частиц (в десятых долях секунды).

- `manager` - указатель на менеджер FireFX
- `life` - время жизни.

---

## FireFXSetBurst

`real FireFXSetBurst(real manager, real burst);`

Задает скорость движения частиц.

- `manager` - указатель на менеджер FireFX
- `burst` - скорость.

---

## FireFXSetRadius

`real FireFXSetRadius(real manager, real radius);`

Задает радиус окружности, в пределах которой допускается произвольное смещение источника частиц.

- `manager` - указатель на менеджер FireFX
- `radius` - радиус.

---

## FireFXExplosion

`real FireFXExplosion(real manager, real isp, real maxsp, real lbf);`

"Взрывает" систему частиц. При этом частицы разлетятся во все стороны. Если вызвать эту функцию один раз, произойдет одиночный взрыв, после чего система снова придет в норму. Но если вызывать ее постоянно, взрыв так и будет длиться, напоминая бенгальский огонь.

- `manager` - указатель на менеджер FireFX
- `isp` - начальная скорость разлета
- `maxsp` - максимальная скорость разлета
- `lbf` - радиус сферы, за пределы которой взрыв не должен выйти.

---

## FireFXRingExplosion

`real FireFXRingExplosion(real manager, real isp, real maxsp, real lbf, real rx, real ry, real rz, real sx, real sy, real sz);`

"Взрывает" систему частиц в виде кольца или линии. При этом частицы разлетятся в пределах двух кординат. Если вызвать эту функцию один раз, произойдет одиночный взрыв, после чего система снова придет в норму. Но если вызывать ее постоянно, взрыв так и будет длиться.

- `manager` - указатель на менеджер FireFX
- `isp` - начальная скорость разлета
- `maxsp` - максимальная скорость разлета
- `lbf` - радиус сферы, за пределы которой взрыв не должен выйти
- `rx`, `ry`, `rz` - кординаты поворота
- `sx`, `sy`, `sz` - маштаб.

# Lines

При помощи объекта lines в Xtreme3D можно рисовать линии - отрезки и кривые.

Линии образуются цепочкой так называемых узлов или нодов (nodes) - точек, определяющих направление линий. В случае с отрезками, эти точки просто последовательно соединяются, а для кривых узлы служат координатами векторов наклона касательных. Касательная - это линия, соприкасающаяся с кривой в одной-единственной точке. Эта точка называется контрольной.

Всего поддерживается пять типов линий. На приведенных ниже иллюстрациях показано, как выбор типа линии влияет на конечный результат при одном и том же наборе из трех узлов. Для наглядности красным цветом обозначены касательные и вспомогательные линии.

Прямая (Line) - узлы последовательно соединены в ломаную линию:

![lines](../data/lines.png)

Кубический сплайн (Cubic Spline) - кривая плавно проходит через все узлы:

![cubicspline](../data/cubicspline.png)

Сплайн Безье (Bezier Spline) - линии, соединяющие узлы, служат касательными к кривой в контрольных точках (в случае со сплайнами Безье, узлы обычно называют касательными точками - tangent points):

![bezierspline](../data/bezierspline.png)

NURBS (Non-Uniform Rational B-Spline) - наиболее универсальный и общий тип кривых, также использующий контрольные точки.

Пунктир (Segments) - линии отображаются поочередно (первая - видимая, вторая - невидимая, третья - видимая и т.д.):

![segments](../data/segments.png)

---

## LinesCreate

`real LinesCreate(real parent);`

Создает новую линию (цепочку узлов) и возвращает указатель на нее.

- `parent` - указатель на родителя.

---

## LinesAddNode

`real LinesAddNode(real line, real x, real y, real z);`

Добавляет новый узел в линию и присваивает ему порядковый номер. Отсчет начинается с нуля.

- `line` - указатель на линию
- `x`, `y`, `z` - локальные координаты узла.

---

## LinesDeleteNode

`real LinesDeleteNode(real line, real ind);`

Удаляет узел под заданным номером.

- `line` - указатель на линию
- `ind` - порядковый номер узла.

---

## LinesSetNode

`real LinesSetNode(real lines, real ind, real x, real y, real z);`

Задает позицию узла.

- `line` - указатель на линию
- `ind` - порядковый номер узла
- `x`, `y`, `z` - локальные координаты узла.

---

## LinesSetColors

`real LinesSetColors(real line, real linecolor, real linealpha, real nodecolor, real nodealpha);`

Задает цвет линий и узлов.

- `line` - указатель на линию
- `linecolor`, `linealpha` - цвет и прозрачность линий
- `nodecolor`, `nodealpha` - цвет и прозрачность узлов.

---

## LinesSetSize

`real LinesSetSize(real line, real linewidth, real nodesize);`

Задает ширину линий и масштаб отображения узлов.

- `line` - указатель на линию
- `linewidth` - ширина линий
- `nodesize` - масштаб узлов.

---

## LinesSetSplineMode

`real LinesSetSplineMode(real line, real lsm);`

Задает тип линий.

- `line` - указатель на линию
- `lsm` - тип линий. Доступны следующие значения `lsm`:
    - `lsmLines` = 0 - прямая
    - `lsmCubicSpline` = 1 - кубический сплайн
    - `lsmBezierSpline` = 2 - сплайн Безье
    - `lsmNURBSCurve` = 3 - NURBS
    - `lsmSegments` = 4 - пунктир.

---

## LinesSetNodesAspect

`real LinesSetNodesAspect(real line, real lna);`

Задает режим отображения узлов.

- `line` - указатель на линию
- `lna` - режим отображения узлов. Доступны следующие значения `lna`:
    - `lnaInvisible` = 0 - невидимые
    - `lnaAxes` = 1 - в виде осей XYZ
    - `lnaCube` = 2 - в виде каркасных кубов
    - `lnaDodecahedron` = 3 - в виде двенадцатигранников.

---

## LinesSetDivision

`real LinesSetDivision(real line, real division);`

Для достижения приемлемой производительности, кривые рендерятся как набор маленьких прямых отрезков. Данная функция задает количество этих отрезков: чем оно больше, тем более гладкой будет выглядеть кривая.

- `line` - указатель на линию
- `division` - количество отрезков.

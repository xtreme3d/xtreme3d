<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Verlet</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
    <meta charset="windows-1251">
    <meta name="author" content="Gecko">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../sakura.css" inline>
    <link rel="stylesheet" type="text/css" href="../github.css" inline>
</head>
<body>
<h1 id="verlet">Verlet</h1>
<p>VerletWorld - это физический движок для симуляции мягких тел (таких, как ткань, веревка, волосы, желе и др.). Мягкие тела видут себя, как в реальной жизни: например, ткань может колыхаться от ветра с учетом силы гравитациии и других свойств (прыгучесть, вес, инерция). Также мягкие тела могут сталкиваться со статическими твердыми поверхностями (Constraint) различных форм: плоскость, параллелепипед, сфера, цилиндр, капсула (к сожалению, поддержки Freeform нет). VerletNode - это узлы (вершины меша) мягких тел, с помощью которых можно частично манипулировать мягким телом.</p>
<p>VerletWorld - очень конфликтный движок. Когда присутствуют слишком большие значения в аргументах функций, движок начнет "ломаться". Например, если задать узлам мягкого тела маленький вес и при этом активировать сильный ветер, мягкие тела начнут вести себя неестественно, и произойдет ошибка, поэтому не прибегайте к поспешным выводам, если движок зависнет. Поэкспериментируйте с параметрами, и проблема устранится.</p>
<hr />
<h2 id="verletworldcreate">VerletWorldCreate</h2>
<p><code>real VerletWorldCreate(real iterations, real usp, real drag);</code></p>
<p>Создает новый физический мир Verlet и возвращает указатель на него.</p>
<ul>
<li><code>iterations</code> - качество симуляции мира. Рекомендуется выставлять значение в диапазоне от 0.0 до 30</li>
<li><code>usp</code> - режим обновления пространства. Поддерживаются следующие значения usp:<ul>
<li><code>uspEveryIteration</code> =</li>
<li><code>uspEveryFrame</code> =</li>
<li><code>uspNever</code> =</li></ul></li>
<li><code>drag</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="verletworldcreateoctree">VerletWorldCreateOctree</h2>
<p><code>real VerletWorldCreateOctree(real verletWorld, real xmin, real ymin, real zmin, real xmax, real ymax, real zmax, real leafThreshold, real maxTreeDepth);</code></p>
<p>Создает октарное дерево для мира Verlet.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>xmin</code>, <code>ymin</code>, <code>zmin</code> - сведения отсутствуют</li>
<li><code>xmax</code>, <code>ymax</code>, <code>zmax</code> - сведения отсутствуют</li>
<li><code>leafThreshold</code> - сведения отсутствуют</li>
<li><code>maxTreeDepth</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="verletworldgravitycreate">VerletWorldGravityCreate</h2>
<p><code>real VerletWorldGravityCreate(real verletWorld, real xDir, real yDir, real zDir);</code></p>
<p>Добавляет силу гравитации в Verlet-мир и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>xDir</code>, <code>yDir</code>, <code>zDir</code> - вектор гравитации.</li>
</ul>
<hr />
<h2 id="verletworldgravitysetdirection">VerletWorldGravitySetDirection</h2>
<p><code>real VerletWorldGravitySetDirection(real gravity, real xDir, real yDir, real zDir);</code></p>
<p>Задает направление гравитации, созданной функцией <code>VerletWorldGravityCreate</code>.</p>
<ul>
<li><code>gravity</code> - указатель на силу гравитации</li>
<li><code>xDir</code>, <code>yDir</code>, <code>zDir</code> - вектор гравитации.</li>
</ul>
<hr />
<h2 id="verletworldupdate">VerletWorldUpdate</h2>
<p><code>real VerletWorldUpdate(real verletWorld, real newTime);</code></p>
<p>Обновляет состояние Verlet-мира.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>newTime</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="verletworldsetmaxdeltatime">VerletWorldSetMaxDeltaTime</h2>
<p><code>real VerletWorldSetMaxDeltaTime(real verletWorld, real maxTime);</code></p>
<p>Задает скорость обновления мира.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>maxTime</code> - скорость обновления мира.</li>
</ul>
<hr />
<h2 id="verletworldsetsimtime">VerletWorldSetSimTime</h2>
<p><code>real VerletWorldSetSimTime(real verletWorld, real time);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>time</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="verletairresistancecreate">VerletAirResistanceCreate</h2>
<p><code>real VerletAirResistanceCreate(real verletWorld, real magnitudе, real chaos);</code></p>
<p>Добавляет ветер в Verlet-мир, возвращая указатель на него.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>magnitudе</code> - скорость ветра. Значение от 0 до 10</li>
<li><code>chaos</code> - хаотичность ветра.</li>
</ul>
<hr />
<h2 id="verletairresistancesetwinddirection">VerletAirResistanceSetWindDirection</h2>
<p><code>real VerletAirResistanceSetWindDirection(real airResistance, real x, real y, real z);</code></p>
<p>Задает направление ветра.</p>
<ul>
<li><code>airResistance</code> - указатель на ветер</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - направление ветра.</li>
</ul>
<hr />
<h2 id="verletairresistancesetwindmagnitude">VerletAirResistanceSetWindMagnitude</h2>
<p><code>real VerletAirResistanceSetWindMagnitude(real airResistance, real magnitudе);</code></p>
<p>Задает скорость ветра.</p>
<ul>
<li><code>airResistance</code> - указатель на ветер</li>
<li><code>magnitudе</code> - скорость.</li>
</ul>
<hr />
<h2 id="verletairresistancesetwindchaos">VerletAirResistanceSetWindChaos</h2>
<p><code>real VerletAirResistanceSetWindChaos(real airResistance, real chaos);</code></p>
<p>Задает хаотичность ветра.</p>
<ul>
<li><code>airResistance</code> - указатель на ветер</li>
<li><code>chaos</code> - хаотичность ветра.</li>
</ul>
<hr />
<h2 id="verletedgedetectorcreate">VerletEdgeDetectorCreate</h2>
<p><code>real VerletEdgeDetectorCreate(real verletWorld, real object);</code></p>
<p>Задает мягкое тело в Verlet-мире и возвращает указатель на него. После этого объект начнет ввести себя, как ткань.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>object</code> - указатель на объект.</li>
</ul>
<hr />
<h2 id="verletedgedetectorsetwelddistance">VerletEdgeDetectorSetWeldDistance</h2>
<p><code>real VerletEdgeDetectorSetWeldDistance(real edgeDetector, real d);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>edgeDetector</code> - указатель на мягкое тело</li>
<li><code>d</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="verletconstraintfloorcreate">VerletConstraintFloorCreate</h2>
<p><code>real VerletConstraintFloorCreate(real verletWorld, real bounceRatio, real floorLevel);</code></p>
<p>Создает твердую поверхность в виде плоскости и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>bounceRatio</code> - пружинистость поверхности</li>
<li><code>floorLevel</code> - уровень высоты столкновения мягких тел. Например, если видно, как ткань проходит сквозь поверхность, этим параметром можно убрать подобный артефакт, указав значение &gt; 1.</li>
</ul>
<hr />
<h2 id="verletconstraintfloorsetnormal">VerletConstraintFloorSetNormal</h2>
<p><code>real VerletConstraintFloorSetNormal(real constraintFloor, real xn, real yn, real zn);</code></p>
<p>Задает нормаль твердой поверхности.</p>
<ul>
<li><code>constraintFloor</code> - указатель на поверхность</li>
<li><code>xn</code>, <code>yn</code>, <code>zn</code> - вектор нормали.</li>
</ul>
<hr />
<h2 id="verletconstraintfloorsetobjectlocations">VerletConstraintFloorSetObjectLocations</h2>
<p><code>real VerletConstraintFloorSetObjectLocations(real constraintFloor, real object);</code></p>
<p>Применяет к твердой поверхности данные положения и вращения объекта.</p>
<ul>
<li><code>constraintFloor</code> - указатель на поверхность</li>
<li><code>object</code> - указатель на объект.</li>
</ul>
<hr />
<h2 id="verletconstraintspherecreate">VerletConstraintSphereCreate</h2>
<p><code>real VerletConstraintSphereCreate(real verletWorld, real radius);</code></p>
<p>Создает твердую поверхность в виде сферы и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>radius</code> - радиус сферы.</li>
</ul>
<hr />
<h2 id="verletconstraintcylindercreate">VerletConstraintCylinderCreate</h2>
<p><code>real VerletConstraintCylinderCreate(real verletWorld, real radius);</code></p>
<p>Создает твердую поверхность в виде цилиндра и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>radius</code> - радиус цилиндра.</li>
</ul>
<hr />
<h2 id="verletconstraintcylindersetaxis">VerletConstraintCylinderSetAxis</h2>
<p><code>real VerletConstraintCylinderSetAxis(real constraintCylinder, real xd, real yd, real zd);</code></p>
<p>Задает направление цилиндра.</p>
<ul>
<li><code>constraintCylinder</code> - указатель на цилиндр</li>
<li><code>xd</code>, <code>yd</code>, <code>zd</code> - направление.</li>
</ul>
<hr />
<h2 id="verletconstraintcubecreate">VerletConstraintCubeCreate</h2>
<p><code>real VerletConstraintCubeCreate(real verletWorld, real x, real y, real z);</code></p>
<p>Создает твердую поверхность в виде куба и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - размер куба.</li>
</ul>
<hr />
<h2 id="verletconstraintcubecreatesetcube">VerletConstraintCubeCreateSetCube</h2>
<p><code>real VerletConstraintCubeCreateSetCube(real verletWorld, real cube);</code></p>
<p>Создает твердую поверхность в виде куба, копируя данные куба примитива (положение, размер), и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>cube</code> - указатель на куб.</li>
</ul>
<hr />
<h2 id="verletconstraintcubesetdirection">VerletConstraintCubeSetDirection</h2>
<p><code>real VerletConstraintCubeSetDirection(real constraintCube, real x, real y, real z);</code></p>
<p>Задает направление куба.</p>
<ul>
<li><code>constraintCube</code> - указатель на куб</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - направление.</li>
</ul>
<hr />
<h2 id="verletconstraintcapsulecreate">VerletConstraintCapsuleCreate</h2>
<p><code>real VerletConstraintCapsuleCreate(real verletWorld, real radius, real length);</code></p>
<p>Создает твердую поверхность в виде капсулы и возвращает указатель на нее.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>radius</code> - радиус капсулы</li>
<li><code>length</code> - длина капсулы.</li>
</ul>
<hr />
<h2 id="verletconstraintcapsulesetaxis">VerletConstraintCapsuleSetAxis</h2>
<p><code>real VerletConstraintCapsuleSetAxis(real constraintCapsule, real x, real y, real z);</code></p>
<p>Задает направление капсулы.</p>
<ul>
<li><code>constraintCapsule</code> - указатель на капсулу</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - направление.</li>
</ul>
<hr />
<h2 id="verletconstraintsetposition">VerletConstraintSetPosition</h2>
<p><code>real VerletConstraintSetPosition(real constraint, real x, real y, real z);</code></p>
<p>Перемещает твердую поверхность.</p>
<ul>
<li><code>constraint</code> - указатель на поверхность</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - положение в пространстве.</li>
</ul>
<hr />
<h2 id="verletconstraintsetfrictionratio">VerletConstraintSetFrictionRatio</h2>
<p><code>real VerletConstraintSetFrictionRatio(real constraint, real frictionRatio);</code></p>
<p>Задает силу трения поверхности - насколько сильно мягкие тела будут скользить по этой поверхности.</p>
<ul>
<li><code>constraint</code> - указатель на поверхность</li>
<li><code>frictionRatio</code> - сила трения.</li>
</ul>
<hr />
<h2 id="verletconstraintsetenabled">VerletConstraintSetEnabled</h2>
<p><code>real VerletConstraintSetEnabled(real constraint, real mode);</code></p>
<p>Включает или выключает твердую поверхность в Verlet-мире.</p>
<ul>
<li><code>constraint</code> - указатель на поверхность</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="verletgetnodecount">VerletGetNodeCount</h2>
<p><code>real VerletGetNodeCount(real verletWorld);</code></p>
<p>Возвращает общее количество узлов в Verlet-мире.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир.</li>
</ul>
<hr />
<h2 id="verletnodenaileddown">VerletNodeNailedDown</h2>
<p><code>real VerletNodeNailedDown(real verletWorld, real nodeIndex, real mode);</code></p>
<p>Закрепляет или открепляет узел мягкого тела в пространстве.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>enable</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="verletnodesetposition">VerletNodeSetPosition</h2>
<p><code>real VerletNodeSetPosition(real verletWorld, real nodeIndex, real x, real y, real z);</code></p>
<p>Тянет узел мягкого тела в позицию x, y, z.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - положение в пространстве.</li>
</ul>
<hr />
<h2 id="verletnodesetradius">VerletNodeSetRadius</h2>
<p><code>real VerletNodeSetRadius(real verletWorld, real nodeIndex, real radius);</code></p>
<p>Задает радиус столкновения узла с твердыми поверхностями.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>radius</code> - радиус.</li>
</ul>
<hr />
<h2 id="verletnodesetfriction">VerletNodeSetFriction</h2>
<p><code>real VerletNodeSetFriction(real verletWorld, real nodeIndex, real friction);</code></p>
<p>Задает силу трения узла по твердым поверхностям.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>friction</code> - сила трения.</li>
</ul>
<hr />
<h2 id="verletnodesetweight">VerletNodeSetWeight</h2>
<p><code>real VerletNodeSetWeight(real verletWorld, real nodeIndex, real weight);</code></p>
<p>Задает вес узла.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>weight</code> - вес.</li>
</ul>
<hr />
<h2 id="verletnodeapplyfriction">VerletNodeApplyFriction</h2>
<p><code>real VerletNodeApplyFriction(real verletWorld, real nodeIndex, real friction, real penetrationDepth, real x, real y, real z);</code></p>
<p>Применяет силу толчка к узлу.</p>
<ul>
<li><code>verletWorld</code> - указатель на мир</li>
<li><code>nodeIndex</code> - индекс узла (вершины)</li>
<li><code>friction</code> - сила трения</li>
<li><code>penetrationDepth</code> - сведения отсутствуют</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - направление толчка.</li>
</ul>
</body>
</html>

<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Window</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
    <meta charset="windows-1251">
    <meta name="author" content="Gecko">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../sakura.css" inline>
    <link rel="stylesheet" type="text/css" href="../github.css" inline>
</head>
<body>
<h1 id="window">Window</h1>
<p>Функции для создания дополнительных окон и управления ими. Вы можете рендерить в созданном окне графику Xtreme3D, если передадите при создании вида соответствующий идентификатор (HWND) при помощи функции <code>WindowGetHandle</code>.</p>
<p>Имейте в виду, что использование дополнительных окон - это нестандартное поведение, которое не предусмотрено движком GameMaker (эта возможность существует, в основном, для языков, где нет встроенного способа создавать окна). Для дополнительных окон не будут работать события ввода GameMaker - нужно обрабатывать ввод встроенными функциями Xtreme3D (<code>MouseGetPosition</code>, <code>MouseGetPositionY</code>, <code>KeyIsPressed</code>). Перед завершением игры все созданные окна нужно удалить функцией <code>WindowDestroy</code>, иначе возникнет ошибка.</p>
<hr />
<h2 id="windowcreate">WindowCreate</h2>
<p><code>real WindowCreate(real x, real y, real width, real height, real resizeable);</code></p>
<p>Создает окно и возвращает указатель на него.</p>
<ul>
<li><code>x</code>, <code>y</code> - позиция окна на экране</li>
<li><code>width</code>, <code>height</code> - ширина и высота окна</li>
<li><code>resizeable</code> - может ли пользователь изменять размер окна (<code>true</code> или <code>false</code>). Обратите внимание, что изменение размера окна не приводит к изменению размеров подключенного к нему вида, это нужно делать вручную.</li>
</ul>
<hr />
<h2 id="windowsetbackgroundcolor">WindowSetBackgroundColor</h2>
<p><code>real WindowSetBackgroundColor(real window, real color);</code></p>
<p>Задает фоновый цвет окна.</p>
<ul>
<li><code>window</code> - указатель на окно;</li>
<li><code>color</code> - цвет.</li>
</ul>
<hr />
<h2 id="windowcenter">WindowCenter</h2>
<p><code>real WindowCenter(real window);</code></p>
<p>Помещает окно в центр экрана.</p>
<ul>
<li><code>window</code> - указатель на окно.</li>
</ul>
<hr />
<h2 id="windowresize">WindowResize</h2>
<p><code>real WindowResize(real window, real x, real y, real width, real height);</code></p>
<p>Задает позицию и размер окна. Обратите внимание, что изменение размера окна не приводит к изменению размеров подключенного к нему вида, это нужно делать вручную.</p>
<ul>
<li><code>window</code> - указатель на окно</li>
<li><code>x</code>, <code>y</code> - позиция окна на экране</li>
<li><code>width</code>, <code>height</code> - ширина и высота окна.</li>
</ul>
<hr />
<h2 id="windowgetposition">WindowGetPosition</h2>
<p><code>real WindowGetPosition(real window, real index);</code></p>
<p>Возвращает координату позиции окна (левого верхнего угла).</p>
<ul>
<li><code>window</code> - указатель на окно</li>
<li><code>index</code> - если этот параметр равен 0, функция возвращает координату X, если 1 - Y.</li>
</ul>
<hr />
<h2 id="windowgetsize">WindowGetSize</h2>
<p><code>real WindowGetSize(real window, real index);</code></p>
<p>Возвращает ширину или высоту окна.</p>
<ul>
<li><code>window</code> - указатель на окно</li>
<li><code>index</code> - если этот параметр равен 0, функция возвращает ширину, если 1 - высоту.</li>
</ul>
<hr />
<h2 id="windowgethandle">WindowGetHandle</h2>
<p><code>real WindowGetHandle(real window);</code></p>
<p>Возвращает идентификатор окна (HWND).</p>
<ul>
<li><code>window</code> - указатель на окно.</li>
</ul>
<hr />
<h2 id="windowsettitle">WindowSetTitle</h2>
<p><code>real WindowSetTitle(real window, string title);</code></p>
<p>Задает заголовок окна.</p>
<ul>
<li><code>window</code> - указатель на окно</li>
<li><code>title</code> - заголовок.</li>
</ul>
<hr />
<h2 id="windowseticon">WindowSetIcon</h2>
<p><code>real WindowSetIcon(real window, string filename);</code></p>
<p>Задает иконку окна.</p>
<ul>
<li><code>window</code> - указатель на окно</li>
<li><code>filename</code> - имя файла ICO.</li>
</ul>
<hr />
<h2 id="windowisshowing">WindowIsShowing</h2>
<p><code>real WindowIsShowing(real window);</code></p>
<p>Возвращает 1, если окно отображается, и 0 в противном случае (если окно закрыто пользователем).</p>
<ul>
<li><code>window</code> - указатель на окно</li>
</ul>
<hr />
<h2 id="windowdispatch">WindowDispatch</h2>
<p><code>real WindowDispatch(real window);</code></p>
<p>Обрабатывает события окна. Эта функция нужна, если вы пишете простое приложение (не Win32) - чтобы ваш игровой цикл не блокировал взаимодействие пользователя с окном. Вызывать ее рекомендуется в начале каждой итерации цикла. При использовании Xtreme3D в GameMaker вызывать эту функцию не нужно.</p>
<ul>
<li><code>window</code> - указатель на окно.</li>
</ul>
<hr />
<h2 id="windowdestroy">WindowDestroy</h2>
<p><code>real WindowDestroy(real window);</code></p>
<p>Удаляет окно.</p>
<ul>
<li><code>window</code> - указатель на окно.</li>
</ul>
<hr />
<h2 id="windowisactive">WindowIsActive</h2>
<p><code>real WindowIsActive(real window);</code></p>
<p>Возвращает 1 (true), если окно существует, и 0 (false), если окно закрыто пользователем.</p>
<ul>
<li><code>window</code> - указатель на окно.</li>
</ul>
<hr />
<h2 id="windowcontrolcreate">WindowControlCreate</h2>
<p><code>real WindowControlCreate(real windowHandle, real top, real left, real width, real height);</code></p>
<p>Создает контроллер для заданного окна. Контроллер необходим для создания WinAPI-компонентов в окне - в частности, видеоплеера.</p>
<ul>
<li><code>windowHandle</code> - дескриптор окна (HWND). Дескриптор окна игры в GML возвращается функцией <code>window_handle()</code>. В GameMaker: Studio 2 эта функция возвращает не <code>real</code>, а <code>ptr</code> (указатель). GML, к сожалению, не поддерживает передачу указателей в DLL-функции напрямую, поэтому нужно перевести это значение в <code>real</code>, прежде чем передавать в <code>WindowControlCreate</code>. Для этого в Xtreme3D предусмотрена функция <code>PointerToReal</code>:</li>
</ul>
<pre class="gml language-gml"><code class="hljs gml language-gml">viewer = ViewerCreate(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">window_get_width</span>(), <span class="hljs-built_in">window_get_height</span>(), PointerToReal(windowHandle));
</code></pre>
<ul>
<li><code>top</code>, <code>left</code> - координаты контроллера (левый верхний угол) относительно окна;</li>
<li><code>width</code>, <code>height</code> - ширина и высота контроллера.</li>
</ul>
<hr />
<h2 id="windowcontrolsetbackgroundcolor">WindowControlSetBackgroundColor</h2>
<p><code>real WindowControlSetBackgroundColor(real wincontrol, real color);</code></p>
<p>Задает фоновый цвет контроллера окна.</p>
<ul>
<li><code>wincontrol</code> - указатель на контроллер;</li>
<li><code>color</code> - цвет.</li>
</ul>
<hr />
<h2 id="windowcontrolfree">WindowControlFree</h2>
<p><code>real WindowControlFree(real wincontrol);</code></p>
<p>Удаляет контроллер окна.</p>
<ul>
<li><code>wincontrol</code> - указатель на контроллер;</li>
</ul>
</body>
</html>

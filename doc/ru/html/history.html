<HTML>
<HEAD>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<TITLE>История Xtreme3D</TITLE>
<LINK href="../data/style.css" type=text/css rel=stylesheet>
</HEAD>
<BODY>

<DIV ALIGN=justify>

<H1 class=pagetitle>История Xtreme3D</H1>

<BR><B>Xtreme3D 0.x-2.x (2003-2006)</B>
<BR>
<BR><A>История Xtreme3D началась в 2003 году. Движок был написан на Delphi с использованием библиотеки GLScene (де-факто стандартного 3D-движка для Object Pascal) немецким программистом под ником <B>Xception</B>. К сожалению, нам неизвестно его настоящее имя.
<BR>
<BR>Первая стабильная версия Xtreme3D (0.9) была выпущена в 2003 году. Ее возможности были довольно скромными: поддерживались только анимированные модели MD2 и MD3, статичные 3DS, MS3D и OBJ, встроенные примитивы, спрайты, двумерный и трехмерный текст, lensflare, частицы и небесный купол. API движка напоминал стиль GML-функций.
<BR>
<BR>Основной целью проекта было создание движка для трехмерной RPG наподобие Dungeon Master. И, хотя автор движка изначально не планировал дальнейшее развитие Xtreme3D, в более поздних версиях функционал движка быстро перерос потребности конкретного жанра.
<BR>
<BR>Так, в версии 1.7 (2004 г.) появилась динамическая вода. Однако куда более серьезным прорывом стала версия 2.0 (2006 г.): тотальный пересмотр API, поддержка видов, библиотек материалов и карт освещения, динамический cubemapping, поддержка новых форматов моделей, рендеринг в текстуру, загрузка ресурсов из сжатого архива, аппаратные шейдеры (bump mapping, cel shading), мультитекстурирование, octree и quadtree, поддержка DDS, а также, что особенно важно, интегрированный физический движок Open Dynamics Engine (ODE).
<BR>
<BR>Последний релиз от Xception (2.0.2.0), помимо многочисленных багфиксов, содержал два важных нововведения: отрисовщик ландшафта и движок проверки столкновений DCE. Функциональность движка была на уровне коммерческих игр 1997-2003 годов - Xtreme3D 2.0 позволял создавать что-то похожее в плане графики на Quake 2-3, Half-Life, GTA 3, The Elder Scrolls: Morrowind и т.д. - все, что относится к "дошейдерной" эпохе.
<BR>
<BR>К сожалению, Xception, в итоге, забросил свою разработку - движок распространялся без исходников, и поэтому долгое время не развивался, а технологии, между тем, не стояли на месте...
<BR>
<BR><B>Xtreme3D 3.0 (25.08.16)</B>
<BR>
<BR>С 2009 года в русскоязычном сообществе Xtreme3D постоянно витала идея воссоздать движок с нуля, исправить баги и добавить недостающую функциональность - учитывая, что Xtreme3D является весьма тонкой оберткой над GLScene, эта задача казалась несложной и чисто технической. Однако возникли непредвиденные проблемы, и дело затянулось. В итоге, проект, начавшийся в 2009 году и переживший долгий период стагнации и несколько вспышек активности, был завершен лишь в 2016-м. Так появился Xtreme3D 3.0.
<BR>
<BR>Эта версия Xtreme3D, как и оригинал, написана на Delphi с использованием популярной библиотеки GLScene - фактически, движок можно назвать почти полным враппером GLScene для Game Maker. В основе Xtreme3D 3.0 лежит модифицированная и расширенная GLScene 1.0.0.0714.
<BR>
<BR>Вот краткий список нововведений Xtreme3D 3.0:
<BR>
<BR>- Поддержка шейдеров на языке GLSL (1.1 или 1.2)
<BR>- Динамические тени, реализованные методом shadow mapping
<BR>- Экранный антиалиасинг 2x и 4x. Имеется поддержка технологии сглаживания NVIDIA Quincunx
<BR>- Быстрый внеэкранный рендеринг с использованием p-буферов
<BR>- Поддержка прокси-объектов
<BR>- Поддержка форматов моделей LOD (LODka 3D) и B3D (Blitz3D)
<BR>- Поддержка тегов для моделей MD3
<BR>- Смешивание скелетных анимаций
<BR>- Загрузка материалов из скриптов
<BR>- Встроенный шейдер смешивания текстур (TexCombine)
<BR>- Встроенный шейдер, реализующий базовое освещение по Фонгу (Phong)
<BR>- Процедурные текстуры на основе шума Перлина
<BR>- Поддержка линейных волн для динамической воды
<BR>- Новые типы геометрических примитивов (усеченная пирамида, додекаэдр, икосаэдр, чайник)
<BR>- Улучшенный эффект взрыва для мешей (в частности, теперь есть возможность вернуть меш в исходное состояние)
<BR>- Рендеринг сеток (Grid)
<BR>- Отладочный рендеринг объектов-манекенов (Dummycube)
<BR>- Множество новых функций для камеры (Camera)
<BR>- Возможность копировать матрицы трансформации (локальные и абсолютные) от одного объекта другому. Также можно копировать объектам матрицы костей из модели со скелетной анимацией и задавать локальную матрицу объекта вручную, что позволяет реализовать любую математическую модель движения и вращения объектов, не привязываясь к углам Эйлера
<BR>- Возможность прикладывать импульсы (мгновенные изменения скорости) к динамическим объектам в DCE. Также в DCE появилась поддержка ландшафта
<BR>- Улучшенная физика ODE. В отличие от старой реализации в Xtreme3D 2.0, теперь в ODE в полной мере поддерживаются Freeform-объекты (как для статических, так и для динамических тел), а также ландшафт. Кроме того, появилась возможность задавать позиции геометриям при их создании, что позволяет создавать составные тела - такие, например, как стол с ножками
<BR>- Функции для создания скриншотов и сохранения текстур из памяти в файлы BMP
<BR>- Функция чтения текстовых файлов. 
<BR>
<BR><B>Xtreme3D 3.1 (30.09.16)</B>
<BR>
<BR>Осенью 2016 года вышло первое обновление новой ветки Xtreme3D - версия 3.1. Вот список самых важных изменений в ней:
<BR>
<BR>- Улучшенный API для объектов Freeform - появилась возможность ручной сборки Freeform из вершин и полигонов, функции трансформации мешей, а также сохранение Freeform в файл
<BR>- Поддержка новых файловых форматов: CSM и LMTS (которых не было в 3.0), X, ASE, DXS
<BR>- Поддержка Ragdoll в ODE
<BR>- Объект Movement, который позволяет задавать объектам траектории движения
<BR>- Улучшенный BumpShader - появилась поддержка теневых карт и автоматического генерирования пространства касательных
<BR>- Улучшенный PhongShader - появилась поддержка текстур
<BR>- Объект HUDShape - 2D-фигура (поддерживаются прямоугольник, окружность, отрезок и меш)
<BR>- Улучшенный API для спрайтов - появилась поддержка текстурных атласов (т.е., использования фрагмента текстуры для отрисовки спрайта), а также отрисовки из заданной точки вместо центра
<BR>- Поддержка альфа-канала для PNG
<BR>- Функции для опрашивания размеров текстуры.
<BR>
<BR><B>Xtreme3D 3.2 (21.10.16)</B>
<BR>
<BR>- Поддержка FBO, быстрых внеэкранных буферов, с помощью которых можно реализовать многопроходный рендеринг и различные сложные эффекты постобработки
<BR>- Новый, совместимый с шейдерами механизм мультитекстурирования для материалов. Теперь материалы могут иметь до 8 текстур, и GLSL-шейдеры могут автоматически их принимать в качестве параметров
<BR>- Функция ViewerRenderObject для рендеринга отдельных объектов и иерархий
<BR>- Функция MaterialLoadTexture
<BR>- Исправлен баг в функции ObjectSetParent.
<BR>
<BR><B>Xtreme3D 3.3 (26.11.16)</B>
<BR>
<BR>- Новые функции для Freeform, позволяющие читать и модифицировать геометрию модели (координаты вершин, нормали, индексы и т.д.)
<BR>- Поддержка замещающих материалов (Override Material) для видов и FBO. Позволяет задать единый материал, с которым должны рендериться объекты, игнорируя свои собственные материалы
<BR>- Поддержка цветовых буферов разных форматов для FBO (включая 32-битные с плавающей запятой)
<BR>- Функция FBORenderObjectEx
<BR>- Поддержка рендеринга теней ShadowMap в заданный пользователем FBO вместо внутреннего буфера
<BR>- Функции ViewerGetSize, ViewerGetPosition, а также ViewerIsOpenGLExtensionSupported.
<BR>
<BR><B>Xtreme3D 3.4 (30.12.16)</B>
<BR>
<BR>- Добавлена поддержка TTF-шрифтов и вывода любых символов Юникода через кодировку UTF-8
<BR>- Добавлены функции ObjectHash (хэш-таблица для хранения любых объектов Xtreme3D)
<BR>- Изменен API функции FBORenderObjectEx - появились новые параметры, позволяющие выборочно очищать цветовой буфер и буфер глубины, а также копировать содержимое FBO в основной кадровый буфер
<BR>- Поддержка передачи в параметр шейдера GLSL видовой и обратной видовой матриц, а также особого параметра, позволяющего шейдеру узнать, есть ли текстура в заданном текстурном блоке
<BR>- В целях ускорения загрузки ресурсов объекты Freeform теперь не генерируют октарные деревья и векторы касательных и бинормалей при загрузке. Это должно быть сделано вручную, если нужно, функциями FreeformGenTangents и FreeformBuildOctree
<BR>- Исправлен баг в функции MaterialCubeMapLoadImage. Также в GLSL теперь задействуется бесшовное кубическое проецирование для произвольных мип-уровней кубической текстуры, если поддерживается расширение GL_ARB_seamless_cube_map. 
<BR>
<BR><B>Xtreme3D 3.5 (04.02.17)</B>
<BR>
<BR>- Добавлен объект ClipPlane - плоскость отсечения
<BR>- Улучшены шейдеры PhongShader и BumpShader: добавлена поддержка источников света типа lsSpot, тумана, прозрачности и рендеринга без освещения (если освещение отключено в настройках вида). Прозрачность задается через альфа-канал диффузной текстуры - либо, альтернативно, через значение альфа диффузной компоненты материала (только для PhongShader)
<BR>- Добавлены новые функции для материалов: MaterialCullFrontFaces, MaterialSetZWrite
<BR>- Добавлены новые функции ODE, позволяющие вручную задавать скорость, позицию и поворот динамическим телам.
<BR>
<BR><B>Xtreme3D 3.6 (17.12.17)</B>
<BR>
<BR>Один из самых крупных релизов в ветке 3.x - разработка этой версии длилась более полугода.
<BR>
<BR>- Добавлена поддержка кодировки Windows для TTF-шрифтов, а также пользовательских 8-битных кодировок
<BR>- Добавлены новые функции для материалов: MaterialSetTextureExFromLibrary, MaterialGetNameFromLibrary
<BR>- Добавлены новые функции для Freeform: функции FreeformSetMaterialLibraries, FreeformMeshFaceGroupSetLightmapIndex, FreeformMeshFaceGroupGetLightmapIndex
<BR>- Добавлены специализированные прокси-объекты для актеров (ActorProxy)
<BR>- Возвращены функции ActorMoveBone и ActorRotateBone, добавлена функция ActorMeshSetVisible
<BR>- Возвращена функция ObjectInFrustrum
<BR>- Возвращены функции мыши, добавлена функция чтения с клавиатуры
<BR>- Добавлены функции для создания окон и управления ими
<BR>- Добавлены функции для создания цвета из RGB-компонентов
<BR>- Добавлены экспериментальные функции для сохранения сцены в файл и чтения из него
<BR>- При создании шейдера GLSL теперь не выводится сообщение об ошибке, если ошибок нет
<BR>- В шейдерах PhongShader и BumpShader исправлен баг с неправильным расчетом бликов.
<BR>
<BR><B>Xtreme3D 3.7 (21.07.18)</B>
<BR>
<BR>Самый крупный релиз со времен 3.0. Разработка этой версии также длилась более полугода.
<BR>
<BR>- Новая система освещения, поддерживающая множество источников света. Теперь можно создать любое количество источников - при рендеринге объекта учитываются 8 ближайших. Для этого надо добавить объекту эффект LightFX (функция LightFXCreate). При этом направленные источники имеют более высокий приоритет, чем точечные и конусные. Система совместима со встроенными шейдерами, также эффект учитывается и для всех потомков объекта. Главный недостаток - большие объекты, типа плоскостей, ландшафта и геометрии уровня, все так же учитывают лишь 8 источников света вокруг их центра, так что для освещения уровней остается только lightmapping.
<BR>- Общее количество источников света может быть задано функцией EngineSetMaxLights. Это необходимо, чтобы избежать оверхеда при использовании более 8 источников света. Если это значение поставить в 0, то поведение движка будет таким же, как в старых версиях - Xtreme3D будет использовать максимальное количество источников света, поддерживаемое видеодрайвером. По умолчанию это значение равно 8 - таким образом, Xtreme3D по умолчанию не использует более 8 физических источников света, но это ограничение не относится к системе LightFX.
<BR>- Интеграция физического движка Kraft. Это современный движок динамики твердых тел, написанный на Delphi. Поддерживает все базовые геометрии (плоскость, сфера, бокс, капсула) и статические меши, позволяет создавать составные геометрии. Kraft работает стабильнее, чем ODE, и имеет более совершенную проверку столкновений, а также включает поддержку рейкастинга. Для использования Kraft не нужна внешняя DLL, поскольку движок встроен прямо в xtreme3d.dll. Поддержка ODE в обозримом будущем сохранится, но уже не будет обновляться.
<BR>- Функции редактирования карты высот ландшафта: BmpHDSCreateEmpty, BmpHDSSetHeight, BmpHDSGetHeight. Функция BmpHDSSave для сохранения карты высот в файл BMP.
<BR>- Функция TerrainGetHDSPosition, возвращающая позицию пикселя карт высот в заданной точке на ландшафте.
<BR>- Базовая поддержка формата моделей FBX. Пока распространяется только на Freeform, но в будущем планируется добавить ее и для Actor. Поддерживается только бинарная версия формата. Материалы не загружаются. Загрузчик основан на библиотеке OpenFBX, и для его использования нужна OpenFBX.dll.
<BR>- Новые функции для прокси-актеров: ActorProxyObjectSetAnimationRange, ActorProxyObjectSetInterval.
<BR>- Функции для чтения и распаковки PAK-архивов: PakGetFileCount, PakGetFileName, PakExtract, PakExtractFile. Функция SetPakArchive теперь возвращает id PAK-файла, который необходим для вышеперечисленных функций. Также теперь поддерживаются сжатые PAK-архивы.
<BR>- Добавлена функция HUDSpriteGetMouseOver.
<BR>- Добавлена функция ObjectGetScale.
<BR>- Функция ObjectDestroy теперь работает со всеми типами объектов Xtreme3D.
<BR>- Новые функции для работы с окнами (WindowSetIcon, WindowIsShowing).
<BR>- Функция ViewerResetPerformanceMonitor, решающая проблему с постепенным увеличением FPS.
<BR>- Выводятся сообщения об ошибке при загрузке ресурсов (для Freeform, Actor и текстур). Вывод сообщений можно отключить функцией EngineShowLoadingErrors, в этом случае движок будет просто игнорировать ошибку и работать дальше.
<BR>
<BR><B>Xtreme3D 3.7.1 (05.08.18)</B>
<BR>
<BR>Патч для версии 3.7, добавляющий вспомогательные функции для некоторых типов объектов.
<BR>- Функции для возврата данных о источниках света (LightGetColor, LightGetShining, LightGetAttenuation)
<BR>- Функции для изменения и возврата опций примитивов (SphereOptions, SphereGetOptions, CylinderOptions, CylinderGetOptions и др.)
<BR>- Функция, возвращающая имя материала объекта (ObjectGetMaterial)
<BR>- Функции для возврата цвета и прозрачности у материалов (MaterialGetColor, MaterialGetAlpha)
<BR>- Функции для изменения параметров сетки (GridSetTille, GridSetStep).
<BR>
<BR><B>Xtreme3D 3.7.2 (26.02.19)</B>
<BR>
<BR>Второе обновление в серии 3.7.
<BR>- Функция SpriteGetSize.
<BR>- Функции MaterialDestroy, MaterialSetName.
<BR>- Система TextureEx теперь поддерживает 16 текстурных слотов вместо 8 - соответственно, во фрагментный шейдер можно передавать 16 текстур, если видеокарта поддерживает такое количество текстурных блоков.
<BR>- Добавлена возможность отвязки шейдера от материала путем вызова MaterialSetShader с нулевым указателем: MaterialSetShader('material', 0).
<BR>- Добавлена функция LineSetNode.
<BR>
<BR><B>Xtreme3D 3.8 (27.07.19)</B>
<BR>
<BR>Один из самых крупных релизов в ветке 3.x - было добавлено множество новых функций, новые примитивы, а также интегрированный новый физический движок для симуляции ткани, волос и мягких тел. 
<BR>- Функция ViewerRenderToFilePNG сохраняет скриншот в формате PNG вместе с альфа-каналом (каналом прозрачности)
<BR>- Функция ViewerPixelRayToWorld 
<BR>- Добавлена функция ViewerShadeModel, которая задает тип отображения нормалей у мешей - плоские или сглаженные
<BR>- Добавлен новый тип примитива Pipe, благодаря которому можно создавать различные трубы, щупальца, и т.д.
<BR>- Функция ActorGetAnimationName, возвращает имя анимации у Актера
<BR>- Функция ActorGetAnimationCount, возвращает количество анимаций у Актера
<BR>- Функция ActorAnimationDestroy, удаляет определенную анимацию у Актера
<BR>- Функция ActorAnimationNextFrame, переключает кадр анимации на шаг вперед
<BR>- Функция ActorAnimationPrevFrame, переключает кадр анимации на шаг назад
<BR>- Функция ActorTriangleCount, возвращает количество треугольников в Актере
<BR>- Функция ActorSetFrame, задает текущий кадр актера
<BR>- Функция MovementPathShow, позволяет отображать путь 
<BR>- Функция MovementPathSetLoop, позволяет зациклить путь  
<BR>- Функция MovementPathDeleteNode, удаляет узел из пути 
<BR>- Функции HUDSpriteXTiles, HUDSpriteYTiles, задают количество повторений текстур на спрайте
<BR>- Новый тип примитива TilePlane для более детального тайлового текстурирования плоскости  
<BR>- Добавлена функция FireFXRingExplosion 
<BR>- Добавлена функция FreeformMeshObjectGetName которая возвращает имя меша в объекте свободной формы
<BR>- Добавлена функция FreeformMeshObjectSetName которая задает имя меша в объекте свободной формы
<BR>- Добавлена функция FreeformMeshObjectDestroy которая удаляет меш в объекте свободной формы
<BR>- Теперь менеджер DCE можно отсоединять от объектов функцией ObjectDestroy и манипулировать стандартными функциями. Пример: dyn=DceDynamicSetManager(obj,mng); ObjectDestroy(dyn); 
<BR>- Функция ObjectFindByName возращает id объекта по имени
<BR>- Добавлен новый физический движок VerletWorld для симуляции ткани, веревок, волос, желе, и других мягких объектов с учетом силы ветра и гравитации.
<BR>
<BR><B>Xtreme3D 3.9 (20.05.21)</B>
<BR>
<BR>- Добавлена новая функция Engine: EngineGetTimeStep
<BR>- Добавлены новые функции Object: ObjectIgnoreDepthBuffer, ObjectIsPicked
<BR>- Добавлена новая функция Window: WindowDispatch
<BR>- Невидимые объекты теперь не учитываются при raycast'ах
<BR>- Игнорируются отсутствующие текстуры при загрузке модели
<BR>- Обновлен до актуальной версии физический движок Kraft
<BR>- Добавлен биндинг для языка Lua.
<BR>
<BR><B>Xtreme3D 3.9.1 (20.09.21)</B>
<BR>
<BR>- Все функции отныне используют соглашение о вызове C (cdecl). Это сделано для лучшей совместимости с различными языками программирования, так как в большинстве языков хорошая поддержка библиотек для C
<BR>- Добавлена поддержка GameMaker Studio 2. Краткое руководство по настройке ищите в разделе FAQ
<BR>- Функция ViewerCreate теперь проверяет дескриптор окна (HWND) и выводит ошибку, если дескриптор недействителен или такого окна не существует.
<BR>
<BR><B>Xtreme3D 3.9.2 (09.04.22)</B>
<BR>
<BR>- Добавлена функция PtrToReal для обеспечения совместимости с новой версией GameMaker Studio 2
<BR>- Добавлена функция MouseIsPressed для считывания нажатий кнопок мыши
<BR>- Исправлен рендеринг теней при одновременном использовании динамических кубических карт
<BR>- BumpShader теперь по умолчанию использует 8 источников света и автоматический расчет тангенса (опция, задаваемая функцией BumpShaderUseAutoTangentSpace).
<BR>
<BR><B>Xtreme3D 4.0.0 (??.??.??)</B>
<BR>
<BR>- Функция Update теперь называется EngineUpdate
<BR>- Функция TrisRendered удалена
<BR>- Новая функция ViewerRenderObject
<BR>- Функция ViewerGetPickedObjectsList теперь работает с объектами-списками PickList, которые нужно создавать вручную
<BR>- Новые функции PickListCreate, PickListClear, PickListGetCount, PickListGetHit
<BR>- Поддерживаются новые константы для ViewerSetAntiAliasing: aa6x = 6, aa8x = 7, aa16x = 8, csa8x = 9, csa8xHQ = 10, csa16x = 11, csa16xHQ = 12
<BR>- Функция CameraZoomAll теперь требует указания Viewer во втором параметре
<BR>- Новая функция MaterialLibraryGetTextureByName
<BR>- Функция SpriteNoZWrite удалена, используйте вместо нее MaterialSetDepthWrite
<BR>- Функция MaterialCullFrontFaces удалена
<BR>- MaterialSetZWrite не рекомендуется к использованию и вскоре будет удалена, используйте вместо нее новую функцию MaterialSetDepthWrite
<BR>- Новая функция MaterialSetDepthTest
<BR>- Система TextureEx переделана. Удалены функции MaterialLoadTextureEx, MaterialSetTextureEx, MaterialSetTextureExFromLibrary, MaterialGenTextureEx, MaterialEnableTextureEx. Добавлены функции MaterialAddTextureEx, MaterialTextureExClear, TextureExLoad, TextureExSetFromMaterial, TextureExGenerate, TextureExDelete, TextureExSetTextureScale, TextureExSetTextureOffset, TextureExEnable
<BR>- Новая функция MaterialSetTextureFormatEx и соответствующие константы
<BR>- Новая константа для MaterialSetTextureFormat: tfExtended = 12
<BR>- Новая константа для MaterialSetTextureImageAlpha: tiaBottomRightPointColorTransparent = 9
<BR>- Новая функция MaterialSetTextureCompareMode
<BR>- Функция PtrToReal теперь называется PointerToReal
<BR>- Функции Polygon удалены
<BR>- Функции TTFontSetEncoding, TTFontLoadCodePage удалены. TTFont теперь поддерживает только UTF-8
<BR>- Функции TextRead, TextConvertANSIToUTF8 удалены
<BR>- Функция OdeAddCone удалена
<BR>- Новая функция BaseMeshBuildSilhouetteConnectivityData
<BR>- Новая функция ActorSetReference
<BR>- Новые функции ObjectNotifyChange, ObjectStructureChanged, ObjectClearStructureChanged
<BR>- Новые функции ObjectListCreate, ObjectListAdd, ObjectListGetCount
<BR>- Система FBO переделана. УДалены функции FBOSetViewer, FBORenderObject, FBORenderObjectEx, FBOSetOverrideMaterial, FBOSetColorTextureFormat. Добавлены функции FBOSetActive, FBOSetAspect, FBOSetPickableTarget, FBOSetSize, FBOSetRootObject, FBOSetBackgroundColor, FBOSetEnabledRenderBuffers, FBOSetSceneScaleFactor, FBOSetTargetVisibility, FBOSetMaterialLibrary, FBOSetColorTextureName, FBOSetDepthTextureName, FBOSetClearOptions, FBOSetStencilPrecision
<BR>- Новая функция GLSLShaderForceDisableStencilTest
<BR>- Переделана система ShadowMap.
</A>

</DIV>

</BODY>
</HTML>

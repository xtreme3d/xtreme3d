<!DOCTYPE html>
<html lang="en">
<head>
    <title>Proxy</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
    <meta charset="windows-1251">
    <meta name="author" content="Gecko">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../sakura.css" inline>
    <link rel="stylesheet" type="text/css" href="../github.css" inline>
</head>
<body>
<h1 id="proxy">Proxy</h1>
<p>Прокси - это специальный тип объекта, который не имеет собственной графики для отрисовки - он рисует графику другого объекта, но использует для этого собственную трансформацию. Иными словами, прокси - это лучший способ создать несколько копий 3D-модели, не дублируя ее в памяти.</p>
<p>Мультипрокси - подвид прокси, который может рисовать разные объекты в зависимости от удаленности от камеры. С его помощью вы можете реализовать дискретный LOD (level of detail) - систему адаптивной детализации: чем дальше прокси от камеры, тем более низкополигональную модель он рендерит.</p>
<p>Для актеров следует использовать специальный подвид прокси - ActorProxyObject. Он позволяет рендерить копию актера со своей анимацией - это необходимо, если у вас в игре сосуществуют несколько однотипных персонажей (например, врагов).</p>
<hr />
<h2 id="proxyobjectcreate">ProxyObjectCreate</h2>
<p><code>real ProxyObjectCreate(real object, real parent);</code></p>
<p>Создает новый прокси с графикой заданного объекта и возвращает указатель на него.</p>
<ul>
<li><code>object</code> - указатель на объект</li>
<li><code>parent</code> - указатель на родителя для прокси.</li>
</ul>
<hr />
<h2 id="proxyobjectsetoptions">ProxyObjectSetOptions</h2>
<p><code>real ProxyObjectSetOptions(real proxy, real copyeffects, real copyobjects, real copytransform);</code></p>
<p>Задает опции прокси.</p>
<ul>
<li><code>proxy</code> - указатель на прокси</li>
<li><code>copyeffects</code> - указывает, копировать ли эффекты заданного объекта (речь идет о системах частиц, прикрепленных к объекту)</li>
<li><code>copyobjects</code> - указывает, копировать ли потомков объекта</li>
<li><code>copytransform</code> - указывает, копировать ли локальную трансформацию объекта.</li>
</ul>
<hr />
<h2 id="proxyobjectsettarget">ProxyObjectSetTarget</h2>
<p><code>real ProxyObjectSetTarget(real proxy, real object);</code></p>
<p>Задает целевой объект прокси.</p>
<ul>
<li><code>proxy</code> - указатель на прокси</li>
<li><code>object</code> - указатель на объект.</li>
</ul>
<hr />
<h2 id="actorproxyobjectcreate">ActorProxyObjectCreate</h2>
<p><code>real ActorProxyObjectCreate(real actor, real parent);</code></p>
<p>Создает новый прокси-актер и возвращает указатель на него.</p>
<ul>
<li><code>actor</code> - указатель на актера</li>
<li><code>parent</code> - указатель на родителя для прокси.</li>
</ul>
<hr />
<h2 id="actorproxyobjectswitchtoanimation">ActorProxyObjectSwitchToAnimation</h2>
<p><code>real ActorProxyObjectSwitchToAnimation(real proxy, real anim);</code></p>
<p>Переключает анимационную последовательность для прокси-Актера с указанием номера анимации.</p>
<ul>
<li><code>proxy</code> - указатель на прокси-актера</li>
<li><code>anim</code> - порядковый номер анимации.</li>
</ul>
<hr />
<h2 id="actorproxyobjectsetanimationrange">ActorProxyObjectSetAnimationRange</h2>
<p><code>real ActorProxyObjectSetAnimationRange(real proxy, real start, real end);</code></p>
<p>Переключает анимационную последовательность для прокси-Актера с указанием первого и последнего кадра.</p>
<ul>
<li><code>proxy</code> - указатель на прокси-актера</li>
<li><code>start</code>, <code>end</code> - первый и последний кадр анимации.</li>
</ul>
<hr />
<h2 id="actorproxyobjectsetinterval">ActorProxyObjectSetInterval</h2>
<p><code>real ActorProxyObjectSetInterval(real proxy, real interval);</code></p>
<p>Задает интервал прокси-актера - время в миллисекундах между двумя ключевыми кадрами. Значение по умолчанию - 100.</p>
<ul>
<li><code>proxy</code> - указатель на прокси</li>
<li><code>interval</code> - интервал.</li>
</ul>
<hr />
<h2 id="multiproxyobjectcreate">MultiProxyObjectCreate</h2>
<p><code>real MultiProxyObjectCreate(real parent);</code></p>
<p>Создает новый мультипрокси и возвращает указатель на него.</p>
<ul>
<li><code>parent</code> - указатель на родителя.</li>
</ul>
<hr />
<h2 id="multiproxyobjectaddtarget">MultiProxyObjectAddTarget</h2>
<p><code>real MultiProxyObjectAddTarget(real mproxy, real object, real mindist, real maxdist);</code></p>
<p>Добавляет целевой объект в мультипрокси и задает диапазон расстояний от камеры, на котором этот объект должен рендериться.</p>
<ul>
<li><code>parent</code> - указатель на мультипрокси</li>
<li><code>object</code> - указатель на объект</li>
<li><code>mindist</code> - минимальное расстояние, на котором мультипрокси должен рисовать данный целевой объект</li>
<li><code>maxdist</code> - максимальное расстояние, на котором мультипрокси должен рисовать данный целевой объект.</li>
</ul>
</body>
</html>

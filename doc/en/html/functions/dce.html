<!DOCTYPE html>
<html lang="en">
<head>
    <title>DCE</title>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
    <meta charset="windows-1251">
    <meta name="author" content="Gecko">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../sakura.css" inline>
    <link rel="stylesheet" type="text/css" href="../github.css" inline>
</head>
<body>
<h1 id="dynamiccollisionenginedce">Dynamic Collision Engine (DCE)</h1>
<p>DCE - очень мощный движок обнаружения и обработки столкновений, достаточно универсальный, чтобы его можно было применять в играх любого жанра. Вам для этого совершенно не потребуется разбираться в особенностях и технологиях обнаружения столкновений - движок очень прост в использовании. Нужно всего лишь назначить объекты, которые должны сталкиваться, а об остальном позаботится DCE. Вам же остается наслаждаться результатом!</p>
<p>Объекты в DCE делятся на два типа - динамические и статические. Динамические могут перемещаться в пространстве, и это учитывается при проверке столкновений. Это может быть, например, персонаж, которым управляет игрок. Статические объекты не перемещаются и используются, например, как стены, пол, потолок, колонны и прочие препятствия.</p>
<p>После привязки объектов в DCE, их движением нельзя управлять стандартными функциями трансформации. Для этого используются собственные функции DCE.</p>
<p>Объекты сталкиваются согласно форме и размеру их коллайдеров - невидимых геометрических тел, которыми они представлены в логической среде DCE. Иными словами, сталкиваются не сами объекты, а эти тела. Чаще всего коллайдеры представляют собой параллелепипеды и сферы.</p>
<p>В DCE также существует такое важное понятие, как слой (layer). Это свойство разграничивает свободу взаимодействий объектов. Сталкиваться друг с другом могут только объекты одного слоя. Например, если объект 1 находится на слое 4, а объект 2 - на слое 5, то столкновения между ними не обнаруживается.</p>
<p>По умолчанию все объекты создаются на нулевом слое. Объекты нулевого слоя всегда сталкиваются с объектами других слоев.</p>
<p>Вы можете использовать слои для того, чтобы разбить игровое пространство на отдельные области, в которых действуют объекты, и тем самым повысить производительность. А можно найти и другие применения.</p>
<p>Еще одна интересная особенность DCE в том, что динамические объекты имеют два кинематических состояния - локальное и абсолютное. Иными словами, такие параметры, как скорость, ускорение и импульс могут быть заданы как в локальных координатах объекта, так и в глобальных. Эти параметры независимы друг от друга, но оба учитываются одновременно при расчете движения. Локальные параметры удобны, когда вы управляете объектом, который может вращаться и двигается в ту сторону, куда "смотрит" - а такая ситуация наблюдается в абсолютном большинстве игр. При этом абсолютные параметры удобны для воздействия на объекты какой-либо внешней силой - например, если персонажа отбрасывает взрывом или сносит ветром (поскольку скорости суммируются, персонаж будет двигаться быстрее, если идет по ветру - примерно как и в реальной жизни).</p>
<hr />
<h2 id="dcemanagercreate">DceManagerCreate</h2>
<p><code>real DceManagerCreate();</code></p>
<p>Создает менеджер DCE и возвращает указатель на него.</p>
<hr />
<h2 id="dcemanagerstep">DceManagerStep</h2>
<p><code>real DceManagerStep(real manager, real delta);</code></p>
<p>Совершает ручное обновление менеджера. Используется только если ручное обновление включено функцией <code>DceManagerSetManualStep</code>. В ином случае обновление происходит автоматически.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>delta</code> - шаг времени.</li>
</ul>
<hr />
<h2 id="dcemanagersetgravity">DceManagerSetGravity</h2>
<p><code>real DceManagerSetGravity(real manager, real grav);</code></p>
<p>Задает величину гравитации (силу, с которой динамические объекты будут притягиваться к земле).</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>grav</code> - гравитация.</li>
</ul>
<hr />
<h2 id="dcemanagersetworlddirection">DceManagerSetWorldDirection</h2>
<p><code>real DceManagerSetWorldDirection(real manager, real x, real y, real z);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор.</li>
</ul>
<hr />
<h2 id="dcemanagersetworldscale">DceManagerSetWorldScale</h2>
<p><code>real DceManagerSetWorldScale(real manager, real scale);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>scale</code> - масштаб.</li>
</ul>
<hr />
<h2 id="dcemanagersetmovementscale">DceManagerSetMovementScale</h2>
<p><code>real DceManagerSetMovementScale(real manager, real scale);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>scale</code> - масштаб.</li>
</ul>
<hr />
<h2 id="dcemanagersetlayers">DceManagerSetLayers</h2>
<p><code>real DceManagerSetLayers(real manager, real ccs);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>ccs</code> - сведения отсутствуют.<ul>
<li><code>ccsDCEStandard</code> = 0 - сведения отсутствуют</li>
<li><code>ccsCollisionStandard</code> = 1 - сведения отсутствуют</li>
<li><code>ccsHybrid</code> = 2 - сведения отсутствуют.</li></ul></li>
</ul>
<hr />
<h2 id="dcemanagersetmanualstep">DceManagerSetManualStep</h2>
<p><code>real DceManagerSetManualStep(real manager, real mode);</code></p>
<p>Включает или выключает ручной режим обновления. При включенном ручном обновлении необходимо использовать функцию <code>DceManagerStep</code>.</p>
<ul>
<li><code>manager</code> - указатель на менеджер DCE</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcedynamicsetmanager">DceDynamicSetManager</h2>
<p><code>real DceDynamicSetManager(real object, real manager);</code></p>
<p>Определяет объект в среде DCE как динамический, прикрепляя его к заданному менеджеру, и возвращает указатель на него.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>manager</code> - указатель на менеджер DCE.</li>
</ul>
<hr />
<h2 id="dcedynamicsetactive">DceDynamicSetActive</h2>
<p><code>real DceDynamicSetActive(real object, real mode);</code></p>
<p>Включает или выключает динамический объект. Выключенные объекты не учитываются при проверке столкновений и, следовательно, на них не затрачиваются вычислительные ресурсы.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcedynamicisactive">DceDynamicIsActive</h2>
<p><code>real DceDynamicIsActive(real object);</code></p>
<p>Возвращает 1 (<code>true</code>), если объект включен, и 0 (<code>false</code>), если выключен.</p>
<ul>
<li><code>object</code> - укaзатель на объект.</li>
</ul>
<hr />
<h2 id="dcedynamicsetusegravity">DceDynamicSetUseGravity</h2>
<p><code>real DceDynamicSetUseGravity(real object, real mode);</code></p>
<p>Включает или выключает гравитацию для динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcedynamicsetlayer">DceDynamicSetLayer</h2>
<p><code>real DceDynamicSetLayer(real object, real layer);</code></p>
<p>Задает слой динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>layer</code> - номер слоя.</li>
</ul>
<hr />
<h2 id="dcedynamicgetlayer">DceDynamicGetLayer</h2>
<p><code>real DceDynamicGetLayer(real object);</code></p>
<p>Возвращает номер слоя динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект.</li>
</ul>
<hr />
<h2 id="dcedynamicsetsolid">DceDynamicSetSolid</h2>
<p><code>real DceDynamicSetSolid(real object, real mode);</code></p>
<p>Включает или выключает твердость динамического объекта. Если плотность включена, объект будет твердым по отношению к другим динамическим объектам.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcedynamicsetfriction">DceDynamicSetFriction</h2>
<p><code>real DceDynamicSetFriction(real object, real friction);</code></p>
<p>Задает коэффициент трения для динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>friction</code> - коэффициент трения.</li>
</ul>
<hr />
<h2 id="dcedynamicsetbounce">DceDynamicSetBounce</h2>
<p><code>real DceDynamicSetBounce(real object, real bounce);</code></p>
<p>Задает параметр упругости для динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>bounce</code> - параметр упругости (значение в диапазоне от 0 до 1).</li>
</ul>
<hr />
<h2 id="dcedynamicsetsize">DceDynamicSetSize</h2>
<p><code>real DceDynamicSetSize(real object, real x, real y, real z);</code></p>
<p>Задает размер коллайдера динамического объекта. Коллайдер динамических объектов всегда имеет форму эллипсоида (csEllipsoid) - таким образом, эта функция задает радиусы эллипсоида по трем осям.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - размер коллайдера по трем осям.</li>
</ul>
<hr />
<h2 id="dcedynamicsetslideorbounce">DceDynamicSetSlideOrBounce</h2>
<p><code>real DceDynamicSetSlideOrBounce(real object, real csb);</code></p>
<p>Задает тип поведения динамического объекта при столкновениях - скольжение или отталкивание.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>csb</code> - скольжение или отталкивание. Поддерживаются следующие значения <code>cbs</code>:<ul>
<li><code>csbSlide</code> = 0 - скольжение</li>
<li><code>csbBounce</code> = 1 - отталкивание.</li></ul></li>
</ul>
<hr />
<h2 id="dcedynamicapplyacceleration">DceDynamicApplyAcceleration</h2>
<p><code>real DceDynamicApplyAcceleration(real object, real x, real y, real z);</code></p>
<p>Придает динамическому объекту локальное ускорение (выраженное в локальной координатной системе).</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор ускорения.</li>
</ul>
<hr />
<h2 id="dcedynamicapplyabsacceleration">DceDynamicApplyAbsAcceleration</h2>
<p><code>real DceDynamicApplyAbsAcceleration(real object, real x, real y, real z);</code></p>
<p>Придает динамическому объекту абсолютное ускорение.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор ускорения.</li>
</ul>
<hr />
<h2 id="dcedynamicstopacceleration">DceDynamicStopAcceleration</h2>
<p><code>real DceDynamicStopAcceleration(real object);</code></p>
<p>Останавливает локальное ускорение динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект.</li>
</ul>
<hr />
<h2 id="dcedynamicstopabsacceleration">DceDynamicStopAbsAcceleration</h2>
<p><code>real DceDynamicStopAbsAcceleration(real object);</code></p>
<p>Останавливает абсолютное ускорение динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект.</li>
</ul>
<hr />
<h2 id="dcedynamicjump">DceDynamicJump</h2>
<p><code>real DceDynamicJump(real object, real height, real speed);</code></p>
<p>Совершает прыжок динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>height</code> - максимальная высота прыжка</li>
<li><code>speed</code> - скорость прыжка.</li>
</ul>
<hr />
<h2 id="dcedynamicmove">DceDynamicMove</h2>
<p><code>real DceDynamicMove(real object, real x, real y, real z, real delta);</code></p>
<p>Двигает динамический объект. Обратите внимание, что движение объекта этой функцией не подчиняется гравитации.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор движения</li>
<li><code>delta</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="dcedynamicmoveto">DceDynamicMoveTo</h2>
<p><code>real DceDynamicMoveTo(real object, real x, real y, real z, real amount);</code></p>
<p>Двигает динамический объект в направлении к указанной точке.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - абсолютные координаты точки</li>
<li>`amount - скорость движения.</li>
</ul>
<hr />
<h2 id="dcedynamicsetvelocity">DceDynamicSetVelocity</h2>
<p><code>real DceDynamicSetVelocity(real object, real x, real y, real z);</code></p>
<p>Задает локальную скорость динамического объекта (выраженную в локальной координатной системе).</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор скорости.</li>
</ul>
<hr />
<h2 id="dcedynamicgetvelocity">DceDynamicGetVelocity</h2>
<p><code>real DceDynamicGetVelocity(real object, real ind);</code></p>
<p>Возвращает локальную скорость динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>ind</code> - индекс координаты (0 = X, 1 = Y, 2 = Z).</li>
</ul>
<hr />
<h2 id="dcedynamicsetabsvelocity">DceDynamicSetAbsVelocity</h2>
<p><code>real DceDynamicSetAbsVelocity(real object, real x, real y, real z);</code></p>
<p>Задает абсолютную скорость динамического объекта (выраженную в глобальной координатной системе).</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - вектор скорости.</li>
</ul>
<hr />
<h2 id="dcedynamicgetabsvelocity">DceDynamicGetAbsVelocity</h2>
<p><code>real DceDynamicGetAbsVelocity(real object, real ind);</code></p>
<p>Возвращает абсолютную скорость динамического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>ind</code> - индекс координаты (0 = X, 1 = Y, 2 = Z).</li>
</ul>
<hr />
<h2 id="dcedynamicapplyimpulse">DceDynamicApplyImpulse</h2>
<p><code>real DceDynamicApplyImpulse(real object, real x, real y, real z);</code></p>
<p>Придает динамическому объекту локальный импульс (моментальное изменение локальной скорости).</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - импульс. Суммируется с текущей локальной скоростью.</li>
</ul>
<hr />
<h2 id="dcedynamicapplyabsimpulse">DceDynamicApplyAbsImpulse</h2>
<p><code>real DceDynamicApplyAbsImpulse(real object, real x, real y, real z);</code></p>
<p>Придает динамическому объекту абсолютный импульс (моментальное изменение абсолютной скорости).</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - импульс. Суммируется с текущей абсолютной скоростью.</li>
</ul>
<hr />
<h2 id="dcedynamicinground">DceDynamicInGround</h2>
<p><code>real DceDynamicInGround(real object);</code></p>
<p>Возвращает истину, если динамический объект "стоит на земле" - то есть, находится в контакте с поверхностью под ним.</p>
<ul>
<li><code>object</code> - укaзатель на объект.</li>
</ul>
<hr />
<h2 id="dcedynamicsetmaxrecursiondepth">DceDynamicSetMaxRecursionDepth</h2>
<p><code>real DceDynamicSetMaxRecursionDepth(real object, real depth);</code></p>
<p>Сведения отсутствуют.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>depth</code> - сведения отсутствуют.</li>
</ul>
<hr />
<h2 id="dcestaticsetmanager">DceStaticSetManager</h2>
<p><code>real DceStaticSetManager(real object, real manager);</code></p>
<p>Определяет объект в среде DCE как статический, прикрепляя его к заданному менеджеру, и возвращает указатель на него.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>manager</code> - указатель на менеджер DCE.</li>
</ul>
<hr />
<h2 id="dcestaticsetactive">DceStaticSetActive</h2>
<p><code>real DceStaticSetActive(real object, real mode);</code></p>
<p>Включает или выключает статический объект. Выключенные объекты не учитываются при проверке столкновений и, следовательно, на них не затрачиваются вычислительные ресурсы.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcestaticsetshape">DceStaticSetShape</h2>
<p><code>real DceStaticSetShape(real object, real cs);</code></p>
<p>Задает форму коллайдера статического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>cs</code> - форма коллайдера. Поддерживаются следующие значения <code>cs</code>:<ul>
<li><code>csEllipsoid</code> = 0 - эллипсоид</li>
<li><code>csBox</code> = 1 - прямоугольный параллелепипед</li>
<li><code>csFreeform</code> = 2 - объект свободной формы</li>
<li><code>csTerrain</code> = 3 - ландшафт.</li></ul></li>
</ul>
<hr />
<h2 id="dcestaticsetlayer">DceStaticSetLayer</h2>
<p><code>real DceSetLayer(real object, real layer);</code></p>
<p>Задает слой статического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>layer</code> - номер слоя.</li>
</ul>
<hr />
<h2 id="dcestaticsetsize">DceStaticSetSize</h2>
<p><code>real DceStaticSetSize(real object, real x, real y, real z);</code></p>
<p>Задает размер коллайдера статического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>x</code>, <code>y</code>, <code>z</code> - размер коллайдера по трем осям.</li>
</ul>
<hr />
<h2 id="dcestaticsetsolid">DceStaticSetSolid</h2>
<p><code>real DceStaticSetSolid(real object, real mode);</code></p>
<p>Включает или выключает твердость статического объекта. Если плотность включена, объект будет твердым по отношению к динамическим объектам.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>mode</code> - <code>true</code> или <code>false</code>.</li>
</ul>
<hr />
<h2 id="dcestaticsetfriction">DceStaticSetFriction</h2>
<p><code>real DceStaticSetFriction(real object, real friction);</code></p>
<p>Задает коэффициент трения для статического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>friction</code> - коэффициент трения.</li>
</ul>
<hr />
<h2 id="dcestaticsetbouncefactor">DceStaticSetBounceFactor</h2>
<p><code>real DceStaticSetBounceFactor(real object, real bounce);</code></p>
<p>Задает параметр упругости для статического объекта.</p>
<ul>
<li><code>object</code> - укaзатель на объект</li>
<li><code>bounce</code> - параметр упругости (значение в диапазоне от 0 до 1).</li>
</ul>
</body>
</html>
